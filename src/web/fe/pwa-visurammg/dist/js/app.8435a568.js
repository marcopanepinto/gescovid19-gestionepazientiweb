(function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],i=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=o[0]))}return e}var i={},a={app:0},n=[];function s(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6483cf2f"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,i){o=a[e]=[t,i]}));t.push(o[2]=i);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(e);var c=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(d);var o=a[e];if(0!==o){if(o){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",c.name="ChunkLoadError",c.type=i,c.request=n,o[1](c)}a[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/visurammgweb/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var i=o("85ec"),a=o.n(i);a.a},"0694":function(e,t,o){},"074d":function(e,t,o){},"09af":function(e,t,o){},"1dde4":function(e,t,o){"use strict";var i=o("09af"),a=o.n(i);a.a},2195:function(e,t,o){},"228d":function(e,t,o){},"23b2":function(e,t,o){"use strict";var i=o("cd0e"),a=o.n(i);a.a},"2cf9":function(e,t,o){"use strict";var i=o("df96"),a=o.n(i);a.a},"2dbc":function(e,t,o){},"340a":function(e,t,o){"use strict";var i=o("2195"),a=o.n(i);a.a},"3abb":function(e,t,o){},"3d99":function(e,t,o){"use strict";var i=o("56ad"),a=o.n(i);a.a},"428a":function(e,t,o){"use strict";var i=o("a8a7"),a=o.n(i);a.a},"448e":function(e,t,o){},4678:function(e,t,o){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=n(e);return o(t)}function n(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="4678"},"56ad":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("4de4"),o("a15b"),o("d81d"),o("ac1f"),o("5319"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var i,a=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("TheHeader"),o("router-view"),o("TheReleasenotes"),o("TheFooter"),o("DettaglioDecorso"),o("Dettagliotampone"),o("SegnalazionePaziente"),o("DettaglioSintomo"),o("SchedaDettaglioModal"),o("EditSchedaPaziente"),o("DettaglioPrescrizione"),o("SchedaPazienteCronologiaModal"),o("DettaglioIntervento"),o("DiarioPaginaNuovaModal"),o("UtenteProfiloModal"),o("SchedaDettaglioInterventoItemModal")],1)},s=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header"},[o("div",{staticClass:"header-logoregione"}),o("div",{staticClass:"header-logo"},[o("TheLogo")],1),o("div",{staticClass:"header-user"},[o("TheUser")],1)])},l=[],c=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},d=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"logo"},[o("span",{staticClass:"visura"},[e._v("Visura pazienti e tamponi MMG")]),o("span",{staticClass:"pazienti"},[e._v("Piattaforma Covid 19 Piemonte")])])}],u={name:"TheLogo",props:{msg:String}},m=u,p=(o("e8c8"),o("2877")),f=Object(p["a"])(m,c,d,!1,null,"288e1733",null),v=f.exports,g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return null!=e.currentUser?o("div",{staticClass:"userdata row items-center",staticStyle:{height:"100%"}},[o("div",{staticClass:"user cursor-pointer",on:{click:e.mostraModalProfilo}},[o("div",{staticClass:"username",staticStyle:{position:"relative"}},[e.deveInserireContatti?[o("font-awesome-icon",{staticStyle:{position:"absolute",right:"-14px",top:"-6px"},attrs:{icon:e.faExclamationCircle,size:"sm"}})]:e._e(),e._v(" "+e._s(e.currentUser.medico.nome+" "+e.currentUser.medico.cognome)+" ")],2)]),o("div",{staticClass:"header-toolbar"},[o("div",{staticClass:"help-menu"},[o("a",{attrs:{href:"/manualigescovid/visurammgweb/Manuale_Utente_Visurammgweb.pdf",target:"_blank"}},[o("font-awesome-icon",{attrs:{icon:e.iconHelp}}),o("span",{staticClass:"help-label"},[e._v("Manuale")])],1)]),o("div",{staticClass:"logout-menu"},[o("div",{attrs:{title:"ESCI"},on:{click:function(t){return e.logout()}}},[o("font-awesome-icon",{attrs:{icon:e.iconArrowLeft}}),o("span",{staticClass:"logout-label"},[e._v("ESCI")])],1)])])]):e._e()},h=[],_=(o("d3b7"),o("ade3")),b="";"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||(b="https://int-rupcovid.sdp.csi.it/visurammgweb/");var C="1.6",z=b+"api",S=b+"external/api/uscammg/",T=1,A=2,D=3,w=4,I=5,E=6,y=8,O=9,R=10,k=11,P=12,N=13,M=14,x={1:"In corso",2:"Positivo",4:"Negativo",6:"Sospeso",7:"Non idoneo",8:"Non pervenuto"},U={ANORESSIA:"012",BRIVIDO:"017",CEFALEA:"007",CONGIUNTIVITE:"019",DIARREA:"002",DISPNEA:"001",DOLORI_MUSCOLARI:"010",FARINGODINIA:"021",GUSTO:"GUSTO",NAUSEA_E_VOMITO:"005",OLFATTO:"011",RAFFREDDORE:"018",STANCHEZZA:"016",TEMPREATURA:"013",TOSSE:"020",VERTIGINI:"015"},j={BOZZA:"B",INVIATA:"I",RIFIUTATA:"R",ACCETTATA:"P",EVASA:"E"},L=(i={BOZZA:"Bozza",INVIATA:"In Attesa",RIFIUTATA:"Rifiutata",ACCETTATA:"In carico",EVASA:"Evasa"},Object(_["a"])(i,j.BOZZA,"Bozza"),Object(_["a"])(i,j.INVIATA,"In Attesa"),Object(_["a"])(i,j.RIFIUTATA,"Rifiutata"),Object(_["a"])(i,j.ACCETTATA,"In carico"),Object(_["a"])(i,j.EVASA,"Evasa"),i),$={VISURAMMG_BASE_URL:z,VISURAMMG_EXTERNAL_URL:S,ID_ISOLAMENTO_DOMICILIARE:T,ID_RICOVERATO:A,ID_TRASFERITO_INTERNO:D,ID_TRASFERITO_ESTERNO:w,ID_DECEDUTO:I,ID_GUARITO:E,ID_ATTESA_TEST:y,ID_POST_RICOVERO:O,ID_ASSEGNAZIONE_DOMICILIO:R,ID_SEGNALAZIONE:k,ID_PRESA_IN_CARICO:P,ID_USCITO:N,ID_INFO_DA_INTEGRARE:M,ESITO_TAMPONE:x,VERSION:C,SINTOMO_NUOVO_CODICI:U,SCHEDA_STATI:j,SCHEDA_STATI_LABEL:L},F=o("c074"),V={name:"TheUser",components:{},data:function(){return{iconHelp:F["s"],iconArrowLeft:F["u"],faCircle:F["h"],faExclamationCircle:F["k"],currentUser:null,urlLogout:"",loading:!0,errored:!1}},methods:{mostraModalProfilo:function(){this.$modal.show("profilo-utente",{utente:this.currentUser})},logout:function(){var e=this;console.log("logout"),this.$http.get($.VISURAMMG_BASE_URL+"/localLogout").then((function(t){console.log("getUrlLogout",t),window.location=t.data.message,console.log("urlLogout",e.urlLogout)})).catch((function(t){console.log(t),e.errored=!0})).finally(this.loading=!1)},getCurrentUser:function(){var e=this;console.log("getCurrentUser!"),this.currentUser=null,this.$http.get($.VISURAMMG_BASE_URL+"/currentUser").then((function(t){if(console.log("getCurrentUser",$.VISURAMMG_BASE_URL+"/currentUser"),!t.data||!t.data.cfUtente){console.log("getCurrentUser Sporco");var o=(new Date).getTime();window.location.href="/visurammgweb/relogin.html?c="+o+"0"}console.log("getCurrentUser Pulito"),e.currentUser=t.data,e.$store.commit("setCurrentUser",e.currentUser)})).catch((function(t){console.log("getCurrentUserError:"+t),e.errored=!0})).then((function(t){if(console.log("getCurrentUser FINAL:"),!e.currentUser){console.log("getCurrentUser Vuoto");var o=(new Date).getTime();window.location.href="/visurammgweb/relogin.html?c="+o+"0"}e.loading=!1}))}},mounted:function(){this.getCurrentUser()},computed:{contattiUtente:function(){return this.currentUser&&this.currentUser.contatto||{}},deveInserireContatti:function(){return!this.contattiUtente.telefono}}},H=V,G=(o("8545"),Object(p["a"])(H,g,h,!1,null,"163d0ec0",null)),B=G.exports,q={name:"TheHeader",components:{TheUser:B,TheLogo:v}},Q=q,Y=(o("737b"),Object(p["a"])(Q,r,l,!1,null,"3a52e589",null)),Z=Y.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"footer"},[o("div",{staticClass:"footer-logoregione"}),o("div",{staticClass:"space"}),o("div",{staticClass:"footer-logocsi"}),o("div",{staticClass:"space"}),e.version?o("div",{staticClass:"footer-version",on:{click:function(t){return e.showReleasenotesModal()}}},[e._v("Versione "+e._s(e.version))]):e._e(),o("div",{staticClass:"footer-logo"},[o("TheLogo")],1)])},J=[],K={name:"TheFooter",components:{TheLogo:v},data:function(){return{version:$.VERSION}},methods:{showReleasenotesModal:function(){console.log("app showReleasenotesModal"),this.$modal.show("releasenotes-modal")}}},W=K,ee=(o("340a"),Object(p["a"])(W,X,J,!1,null,"7d40c9fa",null)),te=ee.exports,oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"releasenotes-modal",adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex; height: auto;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-title"},[o("div",{staticClass:"title-text"},[e._v("Novità della versione "+e._s(e.version)+" ")]),e.releasenotes?o("div",{staticClass:"title-date"},[e._v(e._s(e.releasenotes.releasedate))]):e._e()]),o("div",{staticClass:"modal-body"},[e.releasenotes?o("ul",e._l(e.releasenotes.improvements,(function(t){return o("li",{key:t.index,staticClass:"releasenotes-item"},[o("strong",[e._v(e._s(t.title))]),o("span",{domProps:{innerHTML:e._s(t.text)}}),o("i",[e._v(e._s(t.notes))])])})),0):e._e()]),o("div",{staticClass:"modal-footer"},[o("div",{staticClass:"release-notes-info-close"},[o("i",[o("small",[e._v("Per visualizzare nuovamente le novità di questa versione cliccare sul numero di versione a fondo pagina")])])]),o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("Chiudi")])])])])])},ie=[],ae={1.1:{version:"1.1",releasedate:"06/04/2020",improvements:[{index:0,title:"Segnalazione nuovo paziente",text:"E' stata introdotta la funzionalità di Inserimento paziente con la possibilità di effettuare Segnalazioni al ASL/SISP",notes:""}]},1.2:{version:"1.2",releasedate:"11/04/2020",improvements:[{index:0,title:'Nuovo stato "Stato Incongruo o da completare"',text:'Inserito lo "Stato Incongruo o da completare" indicato dalla ASL/SISP in fase di presa in carico della Segnalazione. Per procedere all\'integrazione è stato inserito il bottone Integra per procedere al completamento o integrazione della Segnalazione',notes:""}]},1.3:{version:"1.3",releasedate:"16/04/2020",improvements:[{index:0,title:"Possibilità di specificare il tipo paziente",text:"In fase di inserimento/modifica paziente è stata introdotta la possibilità di specificare se si tratta di un operatore sanitario, o un ospite struttura",notes:""}]},1.4:{version:"1.4",releasedate:"24/04/2020",improvements:[{index:0,title:"Introdotta la possibilità di interagire con le USCA",text:"<ul><li><strong>INSERIMENTO</strong> della <strong>RICHIESTA di intervento</strong></li><li><strong>VERIFICA</strong> dello <strong>STATO di avanzamento</strong>: Inviata, Presa in carico, Evasa</li></ul>",notes:""},{index:0,title:"Nuove voci nella visualizzazione dei Dettagli del Paziente ",text:"<ul><li><strong>INTERVENTI USCA</strong>  - Segnalazioni inoltrate alle USCA e il relativo dettaglio e Stato delle Segnalazioni</li><li><strong>DIARIO</strong> che riporta i dettagli del Monitoraggio del Paziente e consente di aggiungere eventuali Sintomi</li></ul>",notes:""}]},1.5:{version:"1.5",releasedate:"25/04/2020",improvements:[{index:0,title:"Introdotta la possibilità di interagire con le USCA",text:"<ul><li>Modificata l’interazione con i SISP:</li><li>Introdotta possibilità di creare un paziente senza inviare la segnalazione al <strong>SISP</strong></li><li>Nella parte in alto sono stati aggiunti:  <ul>    <li>I filtri sugli stati delle attività effettuate dagli USCA</li>    <li>Il campo ricerca paziente</li>    <li>Nel corpo centrale dell’interfaccia e in particolare nella colonna “<strong>SISP</strong>” è stato aggiunto il pulsante “<strong>Segnala</strong>” per i pazienti creati senza segnalazione al SISP</li>  </ul></li></ul>",notes:""}]},1.6:{version:"1.6",releasedate:"30/04/2020",improvements:[{index:0,title:"Più interventi USCA sulla singola richiesta",text:"<ul><li>Introdotta la possibilità di inserire più interventi da parte del medico USCA per ogni singola richiesta pervenuta dagli MMG e di conseguenza è stata modificata la sezione di dettaglio della richiesta esponendo non più le informazioni del solo intervento effettuato ma l’elenco degli interventi con il dettaglio delle informazioni inserite e del medico USCA che ha operato.</li></ul>",notes:""}]}},ne={Releasenotes:ae},se={name:"TheReleasenotes",data:function(){return{version:$.VERSION,releasenotes:ne.Releasenotes[this.version]}},methods:{beforeOpen:function(){console.log("releasenoes - modal beforeOpen",ne.Releasenotes[this.version]),this.releasenotes=ne.Releasenotes[this.version]},cancel:function(){console.log("cancel"),localStorage&&(localStorage["relasenotes_"+$.VERSION+"_readed"]=!0),this.$modal.hide("releasenotes-modal")}}},re=se,le=(o("8341"),Object(p["a"])(re,oe,ie,!1,null,"76f70561",null)),ce=le.exports,de=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"decorso-detail",adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex; height: auto;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide("decorso-detail")}}},[e._v(" × ")]),o("div",{staticClass:"modal-title"},[e._v("Dettaglio decorso")]),e.d?o("div",{staticClass:"dettaglio-decorso"},[o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Data")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("formatMillis")(e.d.dataDimissioni))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Evento")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")((e.d.decodeTipoEvento||{}).descTipoEvento)}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Fine quarantena")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("formatMillis")(e.d.dataPrevFineEvento))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Condizioni cliniche")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.d.condizioniCliniche)}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Luogo paziente")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.d.luogoPaziente)}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Contesto - Contatto")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.d.descrizioneContesto)}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Note")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.d.note)}})]),o("div",{staticClass:"dettaglio-section-title"},[e._v("Sintomi Covid")]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Sintomi")]),e._v(" "),o("span",[e._v(" "+e._s(e.d.sintomi))])]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Data esordio sintomi malattia")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("formatMillis")(e.d.dataInizioSint))}})]),null!=e.s?o("div",[o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Temperatura")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeTemperatura")(e.s.temperatura))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Tosse")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgTosse))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Dispnea")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgDispnea))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Congiuntivite")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgCongiuntivite))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Diarrea")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgDiarrea))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Dolori Muscolari")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgDoloriMusc))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Gusto")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgGusto))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Olfatto")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgOlfatto))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Raffraddore")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgRaffreddore))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Stanchezza")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgStanchezza))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Altro")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.s.noteSintomo)}})])]):e._e()]):e._e(),o("div",{staticClass:"modal-footer "},[o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("decorso-detail")}}},[e._v("Chiudi")])])])])])},ue=[],me={name:"DettaglioDecorso",data:function(){return{decorso:null,d:null,s:null}},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.d=e.params.decorso,e.params.decorso.sintomo?this.s=e.params.decorso.sintomo:this.s=null}}},pe=me,fe=(o("ffdb"),Object(p["a"])(pe,de,ue,!1,null,"5464da55",null)),ve=fe.exports,ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"tampone-detail",adaptive:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide("tampone-detail")}}},[e._v(" × ")]),o("div",{staticClass:"modal-title"},[e._v("Dettaglio tampone")]),e.t?o("div",{staticClass:"dettaglio-tampone"},[o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Data richiesta")]),e._v(" "),o("span",[e._v(e._s(e._f("formatMillis")(e.t.dataInserimentoRichiesta)))])]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Criterio epid.")]),e._v(" "),o("span",[e._v(e._s(e.t.criterioEpidemiologicoCovid19))])]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Tipologia test covid")]),e._v(" "),o("span",[e._v(e._s((e.t.testCovid||{}).testCovid))])]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Esito tampone")]),e._v(" "),o("span",[e._v(e._s((e.t.risTampone||{}).risultatoTampone))])]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Data test")]),e._v(" "),o("span",[e._v(e._s(e._f("formatMillis")(e.t.dataTest)))])])]):e._e()])])},he=[],_e={name:"Dettagliotampone",data:function(){return{tampone:null}},computed:{t:function(){return this.tampone}},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.tampone=e.params.tampone}}},be=_e,Ce=(o("eaec"),Object(p["a"])(be,ge,he,!1,null,"532052b6",null)),ze=Ce.exports,Se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"segnalazione-paziente",adaptive:!0,height:"auto",scrollable:!0,width:"650px",styles:"display: flex; height: auto;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-title",on:{click:function(t){return e.debug()}}},[e.segnalazione?[e._v("Nuovo paziente con segnalazione")]:[e._v("Nuovo paziente senza segnalazione")]],2),e.paziente&&!e.finish?o("div",{staticClass:"paziente"},[o("form",{staticClass:"form"},[e.segnalazione?[o("div",{staticClass:"form-group-intro"},[e.paziente.idSoggetto?e._e():o("div",{staticClass:"info-important"},[o("font-awesome-icon",{staticClass:"info-important-icon",attrs:{icon:e.iconInfo}}),o("div",{staticClass:"info-important-text"},[e._v("Si rammenta che le segnalazioni ai SISP vanno effettuate solo nel caso di prima segnalazione")])],1)])]:e._e(),o("div",{staticClass:"form-section"},[o("div",{staticClass:"form-group  form-group-end-section"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"tipoSoggetto"}},[e._v("Tipo paziente")]),o("div",{staticClass:"control-column"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.paziente.idTipoSoggetto,expression:"paziente.idTipoSoggetto"}],staticClass:"form-control ",attrs:{disabled:e.paziente.idSoggetto,id:"tipoSoggetto"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paziente,"idTipoSoggetto",t.target.multiple?o:o[0])}}},e._l(e.allTipisoggetto,(function(t){return o("option",{key:t.idTipoSoggetto,domProps:{value:t.idTipoSoggetto}},[e._v(e._s(t.descTipoSoggetto))])})),0)]),o("div",{staticClass:"label-column"})])]),e.ricercaaura.eseguita||e.cfAuraFeedback?e._e():o("div",{staticClass:"form-group-intro"},[o("div",{staticClass:"alert info"},[e._v("Effettuare la ricerca su Aura per proseguire con l 'inserimento del paziente")])]),e.cfAuraFeedback?o("div",{staticClass:"form-group-intro"},[e.cfAuraFeedback?o("div",{staticClass:"alert",class:e.cfAuraFeedback.type},[e._v(e._s(e.cfAuraFeedback.message))]):e._e()]):e._e(),o("div",{staticClass:"form-section"},[o("div",{staticClass:"form-group form-group-end-section"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteCodicefiscale"}},[e._v("Codice Fiscale")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.codiceFiscale,expression:"paziente.codiceFiscale"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteCodicefiscale",placeholder:"Codice Fiscale",maxlength:"16",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.codiceFiscale},on:{input:function(t){t.target.composing||e.$set(e.paziente,"codiceFiscale",t.target.value)}}}),e.paziente.idSoggetto?e._e():o("div",{staticClass:"toolbar-btn no-desktop btn-search",on:{click:function(t){return e.auraSearchByCF()}}},[e.auraloading?e._e():o("font-awesome-icon",{attrs:{icon:e.iconSearch}}),e.auraloading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1)]),e.paziente.idSoggetto?e._e():o("div",{staticClass:"label-column  no-mobile"},[e.auraloading?e._e():o("a",{staticClass:"btn btn-default",attrs:{href:"#",title:"Cerca su Aura tramite Codice Fiscale"},on:{click:function(t){return e.auraSearchByCF()}}},[o("span",[e._v("Cerca su Aura")])]),e.auraloading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1),e.paziente.idSoggetto?o("div",{staticClass:"label-column"}):e._e()]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteCognome"}},[e._v("Cognome")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.cognome,expression:"paziente.cognome"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteCognome",placeholder:"Cognome",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.cognome},on:{input:function(t){t.target.composing||e.$set(e.paziente,"cognome",t.target.value)}}})]),e.paziente.idSoggetto?e._e():o("div",{staticClass:"label-column no-mobile"}),e.paziente.idSoggetto?o("div",{staticClass:"label-column"}):e._e()]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteNome"}},[e._v("Nome")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.nome,expression:"paziente.nome"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteNome",placeholder:"Nome",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.nome},on:{input:function(t){t.target.composing||e.$set(e.paziente,"nome",t.target.value)}}})])]),o("div",{staticClass:"form-group  form-group-end-section"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteDatanascita"}},[e._v("Data di Nascita")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.dataNascita,expression:"paziente.dataNascita"}],staticClass:"form-control ",attrs:{type:"date",id:"pazienteDatanascita",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.dataNascita},on:{input:function(t){t.target.composing||e.$set(e.paziente,"dataNascita",t.target.value)}}}),o("div",{staticClass:"toolbar-btn no-desktop btn-search",on:{click:function(t){return e.auraSearchByCognome()}}},[e.auraloading?e._e():o("font-awesome-icon",{attrs:{icon:e.iconSearch}}),e.auraloading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1)]),o("div",{staticClass:"label-column"},[e.auraloading?e._e():o("a",{staticClass:"btn btn-default",attrs:{href:"#",title:"Cerca su Aura tramite Nome Cognome e Data di Nascita"},on:{click:function(t){return e.auraSearchByCognome()}}},[o("span",[e._v("Cerca su Aura")])]),e.auraloading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1)])]),e.ricercaaura.eseguita?o("div",{staticClass:"form-section-title"},[e._v("Dati anagrafici")]):e._e(),e.ricercaaura.eseguita?o("div",{staticClass:"form-section"},[e.ricercaaura.eseguita?o("div",{staticClass:"form-group-intro"},[e.paziente.idSoggetto?e._e():o("div",{staticClass:"form-group-intro"},[o("span",{staticClass:"form-group-warning"},[e._v("Compiliare ASL domicilio ed eventualmente utilizzare EXTRA-REGIONE")])]),"noals"==e.ricercaaura.esito?o("div",{staticClass:"form-group-intro"},[e.ricercaaura.esito?e._e():o("span",[e._v("Inserire le asl di residenza e domicilio")])]):e._e()]):e._e(),o("div",{staticClass:"form-section"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"aslResidenza"}},[e._v("Asl di residenza")]),o("div",{staticClass:"control-column"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.paziente.aslResidenza,expression:"paziente.aslResidenza"}],staticClass:"form-control ",attrs:{disabled:e.paziente.idSoggetto},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paziente,"aslResidenza",t.target.multiple?o:o[0])}}},e._l(e.allAsl,(function(t,i){return o("option",{key:i,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),o("div",{staticClass:"label-column"})]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"aslDomicilio"}},[e._v("Asl di domicilio")]),o("div",{staticClass:"control-column"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.paziente.aslDomicilio,expression:"paziente.aslDomicilio"}],staticClass:"form-control ",attrs:{disabled:e.paziente.idSoggetto},on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paziente,"aslDomicilio",t.target.multiple?o:o[0])},e.forceUpdate]}},e._l(e.allAsl,(function(t,i){return o("option",{key:i,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),o("div",{staticClass:"label-column"})]),"EXTRA-REGIONE"===e.paziente.aslDomicilio?o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"asrDomicilio"}},[e._v("Asr di assegnazione")]),o("div",{staticClass:"control-column"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.paziente.idAsr,expression:"paziente.idAsr"}],staticClass:"form-control ",attrs:{disabled:e.paziente.idSoggetto},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paziente,"idAsr",t.target.multiple?o:o[0])}}},e._l(e.allAsr,(function(t,i){return o("option",{key:i,domProps:{value:t.idAsr}},[e._v(" "+e._s(t.descrizione)+" ")])})),0)]),o("div",{staticClass:"label-column"},[o("small",[o("i",[e._v("Nel caso il paziente sia Extra Regione indicare l'Asr a cui deve essere assegnato")])])])]):e._e(),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteResidenza"}},[e._v("Comune di residenza")]),e.paziente.nomeComuneResidenza||e.paziente.idSoggetto?o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.nomeComuneResidenza,expression:"paziente.nomeComuneResidenza"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteResidenza",placeholder:"Comune Residenza",disabled:"disabled"},domProps:{value:e.paziente.nomeComuneResidenza},on:{input:function(t){t.target.composing||e.$set(e.paziente,"nomeComuneResidenza",t.target.value)}}})]):e._e(),e.comuni&&null==e.paziente.nomeComuneResidenza&&!e.paziente.idSoggetto?o("div",{staticClass:"control-column"},[o("autocomplete",{attrs:{placeholder:"Comune residenza",source:e.comuni,"results-value":"istatComune",inputClass:"form-control","results-display":"nomeComune",disabled:!e.modifica.enable},on:{selected:e.selectComuneResidenza}})],1):e._e(),o("div",{staticClass:"label-column"})]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column control-label",attrs:{for:"pazienteDomicilio"}},[e._v("Comune di domicilio")]),e.paziente.nomeComuneDomicilio||e.paziente.idSoggetto?o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.nomeComuneDomicilio,expression:"paziente.nomeComuneDomicilio"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteDomicilio",placeholder:"Comune Domicilio",disabled:"disabled"},domProps:{value:e.paziente.nomeComuneDomicilio},on:{input:function(t){t.target.composing||e.$set(e.paziente,"nomeComuneDomicilio",t.target.value)}}})]):e._e(),e.comuni&&null==e.paziente.nomeComuneDomicilio&&!e.paziente.idSoggetto?o("div",{staticClass:"control-column"},[o("autocomplete",{attrs:{placeholder:"Comune domicilio",source:e.comuni,"results-value":"istatComune",inputClass:"form-control","results-display":"nomeComune"},on:{selected:e.selectComuneDomicilio}})],1):e._e(),o("div",{staticClass:"label-column"})]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteIndirizzo"}},[e._v("Indirizzo domicilio")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.indirizzoDomicilio,expression:"paziente.indirizzoDomicilio"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteIndirizzo",placeholder:"Indirizzo domicilio",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.indirizzoDomicilio},on:{input:function(t){t.target.composing||e.$set(e.paziente,"indirizzoDomicilio",t.target.value)}}})]),o("div",{staticClass:"label-column"})]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteTelefono"}},[e._v("Telefono recapito")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.telefonoRecapito,expression:"paziente.telefonoRecapito"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteTelefono",placeholder:"Telefono recapito",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.telefonoRecapito},on:{input:function(t){t.target.composing||e.$set(e.paziente,"telefonoRecapito",t.target.value)}}})]),o("div",{staticClass:"label-column emphasis"},[e.paziente.idSoggetto?e._e():o("div",{staticClass:"emphasis-content"},[o("div",{staticClass:"arrow-icon"},[o("font-awesome-icon",{attrs:{icon:e.iconArrowLeft}})],1),o("div",{staticClass:"emphasis-text"},[o("font-awesome-icon",{staticClass:"info-icon",attrs:{icon:e.iconInfo}}),e._v(" Inserire il telefono cellulare")],1)])])]),o("div",{staticClass:"form-group  form-group-end-section"},[o("label",{staticClass:"label-column  control-label",attrs:{for:"pazienteEmail"}},[e._v("Email")]),o("div",{staticClass:"control-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.paziente.email,expression:"paziente.email"}],staticClass:"form-control ",attrs:{type:"text",id:"pazienteEmail",placeholder:"Email",disabled:e.paziente.idSoggetto},domProps:{value:e.paziente.email},on:{input:function(t){t.target.composing||e.$set(e.paziente,"email",t.target.value)}}})]),o("div",{staticClass:"label-column"})])])]):e._e(),e.segnalazione?[e.ricercaaura.eseguita?o("div",{staticClass:"form-section-title"},[e._v("Sintomi")]):e._e(),e.ricercaaura.eseguita?o("div",{staticClass:"form-section "},[o("div",{staticClass:"form-group",class:{"form-group-end-section":"SI"!=e.decorso.sintomi}},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"decorso_sintomi"}},[e._v("Sintomi Covid")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.decorso.sintomi,expression:"decorso.sintomi"}],attrs:{type:"radio",value:"NO",name:"decorso_sintomi"},domProps:{checked:e._q(e.decorso.sintomi,"NO")},on:{change:function(t){return e.$set(e.decorso,"sintomi","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.decorso.sintomi,expression:"decorso.sintomi"}],attrs:{type:"radio",value:"SI",name:"decorso_sintomi"},domProps:{checked:e._q(e.decorso.sintomi,"SI")},on:{change:function(t){return e.$set(e.decorso,"sintomi","SI")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Si")])])])])])]):e._e(),"SI"==e.decorso.sintomi?o("div",{staticClass:"form-section form-section-sintomi"},[o("div",{staticClass:"form-group "},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"decorsoDataInizioSintomatologia"}},[e._v("Data esordio sintomi malattia")]),o("div",{staticClass:"control-column-large"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.decorso.dataInizioSint,expression:"decorso.dataInizioSint"}],staticClass:"form-control ",attrs:{type:"date",id:"decorsoDataInizioSintomatologia"},domProps:{value:e.decorso.dataInizioSint},on:{input:function(t){t.target.composing||e.$set(e.decorso,"dataInizioSint",t.target.value)}}})])]),o("div",{staticClass:"form-group form-group-grey"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomiTemperatura"}},[e._v("Temperatura")]),o("div",{staticClass:"control-column-large"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.temperatura,expression:"sintomo.temperatura"}],staticClass:"form-control ",attrs:{type:"number",min:"32",max:"45",id:"sintomiTemperatura"},domProps:{value:e.sintomo.temperatura},on:{input:function(t){t.target.composing||e.$set(e.sintomo,"temperatura",t.target.value)}}})])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_tosse"}},[e._v("Tosse")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgTosse,expression:"sintomo.flgTosse"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_tosse"},domProps:{checked:e._q(e.sintomo.flgTosse,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgTosse","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgTosse,expression:"sintomo.flgTosse"}],attrs:{type:"radio",value:"NON_PERSISTENTE",name:"sintomi_flg_tosse"},domProps:{checked:e._q(e.sintomo.flgTosse,"NON_PERSISTENTE")},on:{change:function(t){return e.$set(e.sintomo,"flgTosse","NON_PERSISTENTE")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Non persistente")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgTosse,expression:"sintomo.flgTosse"}],attrs:{type:"radio",value:"PERSISTENTE_GRASSA",name:"sintomi_flg_tosse"},domProps:{checked:e._q(e.sintomo.flgTosse,"PERSISTENTE_GRASSA")},on:{change:function(t){return e.$set(e.sintomo,"flgTosse","PERSISTENTE_GRASSA")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Persistente grassa")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgTosse,expression:"sintomo.flgTosse"}],attrs:{type:"radio",value:"PERSISTENTE_SECCA",name:"sintomi_flg_tosse"},domProps:{checked:e._q(e.sintomo.flgTosse,"PERSISTENTE_SECCA")},on:{change:function(t){return e.$set(e.sintomo,"flgTosse","PERSISTENTE_SECCA")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Persistente secca")])])])])]),o("div",{staticClass:"form-group  form-group-grey"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_dispnea"}},[e._v("Dispnea")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDispnea,expression:"sintomo.flgDispnea"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_dispnea"},domProps:{checked:e._q(e.sintomo.flgDispnea,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgDispnea","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDispnea,expression:"sintomo.flgDispnea"}],attrs:{type:"radio",value:"SI",name:"sintomi_flg_dispnea"},domProps:{checked:e._q(e.sintomo.flgDispnea,"SI")},on:{change:function(t){return e.$set(e.sintomo,"flgDispnea","SI")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Si")])])])])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_diarrea"}},[e._v("Diarrea")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDiarrea,expression:"sintomo.flgDiarrea"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_diarrea"},domProps:{checked:e._q(e.sintomo.flgDiarrea,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgDiarrea","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDiarrea,expression:"sintomo.flgDiarrea"}],attrs:{type:"radio",value:"SI",name:"sintomi_flg_diarrea"},domProps:{checked:e._q(e.sintomo.flgDiarrea,"SI")},on:{change:function(t){return e.$set(e.sintomo,"flgDiarrea","SI")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Si")])])])])]),o("div",{staticClass:"form-group  form-group-grey"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_congiuntivite"}},[e._v("Congiuntivite")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgCongiuntivite,expression:"sintomo.flgCongiuntivite"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_congiuntivite"},domProps:{checked:e._q(e.sintomo.flgCongiuntivite,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgCongiuntivite","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgCongiuntivite,expression:"sintomo.flgCongiuntivite"}],attrs:{type:"radio",value:"SI",name:"sintomi_flg_congiuntivite"},domProps:{checked:e._q(e.sintomo.flgCongiuntivite,"SI")},on:{change:function(t){return e.$set(e.sintomo,"flgCongiuntivite","SI")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Si")])])])])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_dolori_musc"}},[e._v("Dolori Muscolari")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDoloriMusc,expression:"sintomo.flgDoloriMusc"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_dolori_musc"},domProps:{checked:e._q(e.sintomo.flgDoloriMusc,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgDoloriMusc","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDoloriMusc,expression:"sintomo.flgDoloriMusc"}],attrs:{type:"radio",value:"PRIMA_EMERGENZA",name:"sintomi_flg_dolori_musc"},domProps:{checked:e._q(e.sintomo.flgDoloriMusc,"PRIMA_EMERGENZA")},on:{change:function(t){return e.$set(e.sintomo,"flgDoloriMusc","PRIMA_EMERGENZA")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Prima Emergenza")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgDoloriMusc,expression:"sintomo.flgDoloriMusc"}],attrs:{type:"radio",value:"ULTIME_2_SETTIMANE",name:"sintomi_flg_dolori_musc"},domProps:{checked:e._q(e.sintomo.flgDoloriMusc,"ULTIME_2_SETTIMANE")},on:{change:function(t){return e.$set(e.sintomo,"flgDoloriMusc","ULTIME_2_SETTIMANE")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Ultime due settimane")])])])])]),o("div",{staticClass:"form-group form-group-grey"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_gusto"}},[e._v("Ageusia")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgGusto,expression:"sintomo.flgGusto"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_gusto"},domProps:{checked:e._q(e.sintomo.flgGusto,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgGusto","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgGusto,expression:"sintomo.flgGusto"}],attrs:{type:"radio",value:"SI",name:"sintomi_flg_gusto"},domProps:{checked:e._q(e.sintomo.flgGusto,"SI")},on:{change:function(t){return e.$set(e.sintomo,"flgGusto","SI")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Si")])])])])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_olfatto"}},[e._v("Anosmia")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgOlfatto,expression:"sintomo.flgOlfatto"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_olfatto"},domProps:{checked:e._q(e.sintomo.flgOlfatto,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgOlfatto","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgOlfatto,expression:"sintomo.flgOlfatto"}],attrs:{type:"radio",value:"SI",name:"sintomi_flg_olfatto"},domProps:{checked:e._q(e.sintomo.flgOlfatto,"SI")},on:{change:function(t){return e.$set(e.sintomo,"flgOlfatto","SI")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Si")])])])])]),o("div",{staticClass:"form-group form-group-grey"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_raffreddore"}},[e._v("Raffreddore")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgRaffreddore,expression:"sintomo.flgRaffreddore"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_raffreddore"},domProps:{checked:e._q(e.sintomo.flgRaffreddore,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgRaffreddore","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgRaffreddore,expression:"sintomo.flgRaffreddore"}],attrs:{type:"radio",value:"LEGGERO",name:"sintomi_flg_raffreddore"},domProps:{checked:e._q(e.sintomo.flgRaffreddore,"LEGGERO")},on:{change:function(t){return e.$set(e.sintomo,"flgRaffreddore","LEGGERO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Leggero")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgRaffreddore,expression:"sintomo.flgRaffreddore"}],attrs:{type:"radio",value:"FORTE",name:"sintomi_flg_raffreddore"},domProps:{checked:e._q(e.sintomo.flgRaffreddore,"FORTE")},on:{change:function(t){return e.$set(e.sintomo,"flgRaffreddore","FORTE")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Forte")])])])])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomi_flg_stanchezza"}},[e._v("Stanchezza")]),o("div",{staticClass:"control-column-large  inline-controls"},[o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgStanchezza,expression:"sintomo.flgStanchezza"}],attrs:{type:"radio",value:"NO",name:"sintomi_flg_stanchezza"},domProps:{checked:e._q(e.sintomo.flgStanchezza,"NO")},on:{change:function(t){return e.$set(e.sintomo,"flgStanchezza","NO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("No")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgStanchezza,expression:"sintomo.flgStanchezza"}],attrs:{type:"radio",value:"NELLA_NORMA",name:"sintomi_flg_stanchezza"},domProps:{checked:e._q(e.sintomo.flgStanchezza,"NELLA_NORMA")},on:{change:function(t){return e.$set(e.sintomo,"flgStanchezza","NELLA_NORMA")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Nella norma")])])]),o("div",{staticClass:"radio inline-radio"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.flgStanchezza,expression:"sintomo.flgStanchezza"}],attrs:{type:"radio",value:"PIU_SOLITO",name:"sintomi_flg_stanchezza"},domProps:{checked:e._q(e.sintomo.flgStanchezza,"PIU_SOLITO")},on:{change:function(t){return e.$set(e.sintomo,"flgStanchezza","PIU_SOLITO")}}}),o("span",{staticClass:"cr"},[o("font-awesome-icon",{staticClass:"cr-icon",attrs:{icon:e.iconCheck}})],1),o("span",[e._v("Più del solito")])])])])]),o("div",{staticClass:"form-group form-group-grey  form-group-end-section"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"sintomiNote"}},[e._v("Altro")]),o("div",{staticClass:"control-column-large control-with-text-area"},[o("div",{staticClass:"form-control"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sintomo.noteSintomo,expression:"sintomo.noteSintomo"}],attrs:{rows:"3",id:"sintomiNote",maxlength:"500"},domProps:{value:e.sintomo.noteSintomo},on:{input:function(t){t.target.composing||e.$set(e.sintomo,"noteSintomo",t.target.value)}}})])])])]):e._e(),e.ricercaaura.eseguita?o("div",{staticClass:"form-section-title"},[e._v("Decorso")]):e._e(),e.ricercaaura.eseguita?o("div",{staticClass:"form-section  "},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"decorsoCondizioni"}},[e._v("Condizioni cliniche")]),o("div",{staticClass:"control-column-large control-with-text-area"},[o("div",{staticClass:"form-control"},[o("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.decorso.condizioniCliniche,expression:"decorso.condizioniCliniche ",modifiers:{trim:!0}}],attrs:{rows:"3",id:"decorsoCondizioni ",maxlength:"500"},domProps:{value:e.decorso.condizioniCliniche},on:{input:function(t){t.target.composing||e.$set(e.decorso,"condizioniCliniche",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"luogoPaziente "}},[e._v("Luogo paziente")]),o("div",{staticClass:"control-column-large control-with-text-area"},[o("div",{staticClass:"form-control"},[o("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.decorso.luogoPaziente,expression:"decorso.luogoPaziente ",modifiers:{trim:!0}}],attrs:{rows:"3",id:"luogoPaziente ",maxlength:"500"},domProps:{value:e.decorso.luogoPaziente},on:{input:function(t){t.target.composing||e.$set(e.decorso,"luogoPaziente",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"label-column-small  control-label",attrs:{for:"descrizioneContesto"}},[e._v("Contesto - Contatto")]),o("div",{staticClass:"control-column-large control-with-text-area"},[o("div",{staticClass:"form-control"},[o("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.decorso.descrizioneContesto,expression:"decorso.descrizioneContesto",modifiers:{trim:!0}}],attrs:{rows:"3",id:"descrizioneContesto",maxlength:"500"},domProps:{value:e.decorso.descrizioneContesto},on:{input:function(t){t.target.composing||e.$set(e.decorso,"descrizioneContesto",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])])])]):e._e()]:e._e()],2)]):e._e(),e.feedback?o("div",{staticClass:"main-feedback"},[o("div",{staticClass:"alert",class:e.feedback.type},[e._v(" "+e._s(e.feedback.message)+" "),e.feedback.details?o("ul",e._l(e.feedback.details,(function(t,i){return o("li",{key:i},[e._v(e._s(t))])})),0):e._e()])]):e._e(),o("div",{staticClass:"modal-footer "},[e.finish?e._e():o("div",{staticClass:"toolbar-left"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("segnalazione-paziente")}}},[e._v("Annulla")])]),e.ricercaaura.eseguita&&!e.finish?o("div",{staticClass:"toolbar-right"},[e.loading?e._e():o("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.savePaziente(!0)}}},[e._v("Salva")]),e.loading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1):e._e(),e.finish?o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return e.$modal.hide("segnalazione-paziente")}}},[e._v("Chiudi")])]):e._e()])])])},Te=[],Ae=(o("b64b"),o("841c"),o("96cf"),o("1da1")),De=o("8f81"),we=o.n(De),Ie=o("c1df"),Ee=o.n(Ie),ye=(o("7db0"),o("c975"),o("13d5"),o("a9e3"),o("5530")),Oe=function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t&&o;if(i||(a=a&&"NO"!==t),a){var n=Object(ye["a"])({},o);n.valore=i?Number(t):null,n.note="",e.push(n)}},Re=function(e,t){var o=$.SINTOMO_NUOVO_CODICI,i=[],a=t.reduce((function(e,t){var o=t.codice;return e[o]=Object(ye["a"])({},t),e}),{});return Oe(i,e.temperatura,a[o.TEMPREATURA],!0),Oe(i,e.flgTosse,a[o.TOSSE]),Oe(i,e.flgDispnea,a[o.DISPNEA]),Oe(i,e.flgDiarrea,a[o.DIARREA]),Oe(i,e.flgCongiuntivite,a[o.CONGIUNTIVITE]),Oe(i,e.flgDoloriMusc,a[o.DOLORI_MUSCOLARI]),Oe(i,e.flgGusto,a[o.GUSTO]),Oe(i,e.flgOlfatto,a[o.OLFATTO]),Oe(i,e.flgRaffreddore,a[o.RAFFREDDORE]),Oe(i,e.flgStanchezza,a[o.STANCHEZZA]),i},ke=function(e,t){var o=e&&e.cronologia||[],i=o.find((function(e){return e.stato.codice===t}));if(i)return i.utente},Pe=function(e){var t,o,i,a,n,s,r;if(""===e)return!1;if(e=e.toUpperCase(),16!==e.length)return!1;for(t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=0;o<16;o++)if(-1===t.indexOf(e.charAt(o)))return!1;for(a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="ABCDEFGHIJABCDEFGHIJKLMNOPQRSTUVWXYZ",s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="BAKPLCQDREVOSFTGUHMINJWZYX",i=0,o=1;o<=13;o+=2)i+=s.indexOf(n.charAt(a.indexOf(e.charAt(o))));for(o=0;o<=14;o+=2)i+=r.indexOf(n.charAt(a.indexOf(e.charAt(o))));return i%26===e.charCodeAt(15)-"A".charCodeAt(0)},Ne=o("bc3a"),Me=o.n(Ne),xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=$.VISURAMMG_EXTERNAL_URL+"/diario-dettagli";return Me.a.post(o,e,t)},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$.VISURAMMG_EXTERNAL_URL+"/sintomi";return Me.a.get(t,e)},je=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=$.VISURAMMG_EXTERNAL_URL+"/utenti/"+e+"/contatti";return Me.a.put(i,t,o)},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$.VISURAMMG_EXTERNAL_URL+"/currentUser";return Me.a.get(t,e)},$e=/^\d+$/,Fe={name:"SegnalazionePaziente",components:{Autocomplete:we.a},data:function(){return{iconSpinner:F["i"],iconCheck:F["g"],iconInfo:F["p"],iconArrowLeft:F["q"],iconSearch:F["t"],iconImportant:F["k"],paziente:null,cfAuraFeedback:null,feedback:null,auraloading:!1,ricercaaura:{eseguita:!1,esito:null},modifica:{enable:!1},comuni:[],allAsl:[],allAsr:[],allTipisoggetto:[],finish:!1,decorso:{sintomi:"NO"},sintomo:{},segnalazione:!1}},methods:{debug:function(){console.log("paziente",this.paziente)},forceUpdate:function(e){console.log("forceupdate",this.paziente),this.$forceUpdate()},beforeOpen:function(e){console.log("beforeOpen",e),this.paziente=e.params.paziente,"segnalazione"in e.params&&(this.segnalazione=e.params.segnalazione),this.cfAuraFeedback=null,this.feedback=null,this.auraloading=!1,this.modifica={enable:!1},this.finish=!1,this.paziente?(e.params.paziente.dataNascita&&(this.paziente.dataNascita=Ee()(e.params.paziente.dataNascita).format("YYYY-MM-DD")),e.params.comuneResidenza&&(this.paziente.nomeComuneResidenza=e.params.paziente.comuneResidenza.nomeComune),e.params.paziente.comuneDomicilio&&(this.paziente.nomeComuneDomicilio=e.params.paziente.comuneDomicilio.nomeComune),this.ricercaaura={eseguita:!0,esito:"ok"}):(this.paziente={},this.ricercaaura={eseguita:!1,esito:null})},ricercaSoggettoEsistente:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("ricercaSoggettoEsistente",e,t),this.cfAuraFeedback=null,this.auraloading=!0,this.ricercaaura={eseguita:!1,esito:null},this.$http.get($.VISURAMMG_BASE_URL+"/mmgvisura/soggetti/by-cf/"+e.codiceFiscale.toUpperCase()).then((function(e){console.log("auraSearchByCf",e),o.finish=!0,o.feedback={type:"warning",message:"Soggetto già presente sulla piattaforma, ora lo puoi trovare nella lista dei tuoi pazienti. Si rammenta che le segnalazioni ai SISP vanno effettuate solo nel caso di prima segnalazione"}})).catch((function(a){console.log(a),a&&404===a.response.status?(console.log("Paziente non trovato"),o.preparaPazienteCaricato(e),o.paziente.idAura=t,i||(o.ricercaaura.esito="ko",o.cfAuraFeedback={type:"warning",message:"Paziente non trovato. Verificare i criteri di ricerca o inserire i dati anagrafici"})):o.cfAuraFeedback={type:"warning",message:"La ricerca dei dati del paziente non è andata a buon fine. Riprovare fra qualche minuto, o inserire i dati"},o.ricercaaura.eseguita=!0,o.auraloading=!1})).then(this.auraloading=!1)},auraSearchByCF:function(){var e=this;console.log("auraSearchByCF",this.paziente),this.cfAuraFeedback=null,this.paziente.codiceFiscale&&Pe(this.paziente.codiceFiscale)?(this.auraloading=!0,this.ricercaaura={eseguita:!1,esito:null},this.$http.get($.VISURAMMG_BASE_URL+"/aura/"+this.paziente.codiceFiscale).then((function(t){console.log("auraSearchByCf",t),e.auraloading=!1,t&&t.data&&t.data.length>0?e.elaboraRisultatoAura(t.data):e.ricercaSoggettoEsistente(e.paziente)})).catch((function(t){console.log(t),e.ricercaaura.eseguita=!0,e.auraloading=!1,e.cfAuraFeedback={type:"warning",message:"La ricerca dei dati del paziente non è andata a buon fine. Riprovare fra qualche minuto, o inserire i dati"}})).then(this.loading=!1)):this.cfAuraFeedback={type:"warning",message:"Inserire un codice fiscale valido"}},auraSearchByCognome:function(){var e=this;if(console.log("auraSearchByCognome ",this.paziente),this.cfAuraFeedback=null,this.paziente.cognome&&this.paziente.nome&&this.paziente.dataNascita){this.auraloading=!0,this.ricercaaura={eseguita:!1,esito:null},console.log("data di nascita",this.paziente.dataNascita);var t=new Date(this.paziente.dataNascita),o=t.getMonth()+1,i=t.getDate(),a=t.getFullYear(),n="/aura/"+this.paziente.nome+"/"+this.paziente.cognome+"/"+(i>9?"":"0")+i+"/"+(o>9?"":"0")+o+"/"+a;this.$http.get($.VISURAMMG_BASE_URL+n).then((function(t){console.log("auraSearchByCognome",t),e.auraloading=!1,t&&t.data&&t.data.length>0?e.elaboraRisultatoAura(t.data):(e.ricercaaura.eseguita=!0,e.ricercaaura.esito="ko",e.cfAuraFeedback={type:"warning",message:"Paziente non trovato. Verificare i criteri di ricerca o inserire i dati anagrafici"})})).catch((function(t){console.log(t),e.ricercaaura.eseguita=!0,e.auraloading=!1,e.cfAuraFeedback={type:"warning",message:"La ricerca dei dati del paziente non è andata a buon fine. Riprovare fra qualche minuto, o inserire i dati"}})).then(this.loading=!1)}else this.cfAuraFeedback={type:"warning",message:"Inserire Nome Cognome e Data di Nascita"}},elaboraRisultatoAura:function(e){1===e.length||console.log("modale più soggetti",e),this.caricaDettaglioPazienteDaAura(e[0].profiloAnagrafico)},preparaPazienteCaricato:function(e){e.dataNascita&&(e.dataNascita=new Date(e.dataNascita)),e.comuneResidenzaIstat&&(e.comuneResidenzaIstatCompleto=e.comuneResidenza,e.nomeComuneResidenza=e.comuneResidenza.nomeComune),e.comuneDomicilioIstat&&(e.comuneDomicilioIstatCompleto=e.comuneDomicilio,e.nomeComuneDomicilio=e.comuneDomicilio.nomeComune),this.paziente||(this.paziente={}),this.paziente.codiceFiscale=e.codiceFiscale,this.paziente.idAsr=e.idAsr,this.paziente.cognome=e.cognome,this.paziente.nome=e.nome,e.dataNascita&&(this.paziente.dataNascita=Ee()(e.dataNascita).format("YYYY-MM-DD")),this.paziente.comuneResidenzaIstat=e.comuneResidenzaIstat,this.paziente.nomeComuneResidenza=e.nomeComuneResidenza,this.paziente.comuneDomicilioIstat=e.comuneDomicilioIstat,this.paziente.nomeComuneDomicilio=e.nomeComuneDomicilio,this.paziente.indirizzoDomicilio=e.indirizzoDomicilio,this.paziente.telefonoRecapito=e.telefonoRecapito,this.paziente.email=e.email,this.paziente.idAsr=e.idAsr,this.paziente.comuneResidenzaIstatCompleto=e.comuneResidenzaIstatCompleto,this.paziente.comuneDomicilioIstatCompleto=e.comuneDomicilioIstatCompleto,this.paziente.numeroCampioni=e.numeroCampioni,this.paziente.numeroDecorsi=e.numeroDecorsi,this.paziente.aslDomicilio=e.aslDomicilio,this.paziente.aslResidenza=e.aslResidenza,this.paziente.idAura=e.idAura},caricaDettaglioPazienteDaAura:function(e){var t=this;this.auraloading=!0,this.$http.get($.VISURAMMG_BASE_URL+"/aura/find/"+e).then((function(o){console.log("caricaDettaglioPazienteDaAura",o),t.auraloading=!1,o&&o.data?t.ricercaSoggettoEsistente(o.data,e,!0):(t.ricercaaura.eseguita=!0,t.ricercaaura.esito="ko",t.cfAuraFeedback={type:"warning",message:"Paziente non trovato"})})).catch((function(e){console.log(e),t.ricercaaura.eseguita=!1,t.auraloading=!1,t.cfAuraFeedback={type:"danger",message:"La ricerca dei dati del paziente non è andata a buon fine. Riprovare fra qualche minuto, o inserire i dati"}})).then(this.loading=!1)},selectComuneResidenza:function(e){console.log("select",e),this.paziente.comuneResidenzaIstatCompleto={nomeComune:e.display,istatComune:e.value}},selectComuneDomicilio:function(e){console.log("select",e),this.paziente.comuneDomicilioIstatCompleto={nomeComune:e.display,istatComune:e.value}},abilitaModificaComuneResidenza:function(){delete this.paziente.nomeComuneResidenza,console.log("dopo",this.paziente)},validatePaziente:function(){var e=[];return this.paziente.idSoggetto||(this.paziente.cognome||e.push("Cognome paziente obbligatorio"),this.paziente.nome||e.push("Nome paziente obbligatorio"),this.paziente.dataNascita?new Date(this.paziente.dataNascita).getTime()>(new Date).getTime()&&e.push("Data di nascita paziente futura"):e.push("Data di nascita paziente obbligatoria"),this.paziente.codiceFiscale&&(Pe(this.paziente.codiceFiscale)||e.push("Codice fiscale non corretto")),this.paziente.telefonoRecapito||e.push("Recapito telefonico obbligatorio"),this.paziente.telefonoRecapito&&-1===this.paziente.telefonoRecapito.search($e)&&e.push("Telefono non formattato correttamente"),"EXTRA-REGIONE"!==this.paziente.aslDomicilio||this.paziente.idAsr||e.push("Indicare l'Asr di assegnazione")),this.decorso.sintomi||e.push("Indicare se sono presenti sintomi Covid"),"SI"!==this.decorso.sintomi||this.decorso.dataInizioSint||e.push("Indicare la data di esordio dei sintomi"),"SI"===this.decorso.sintomi&&0===Object.keys(this.sintomo).length&&this.sintomo.constructor===Object&&e.push("Indicare almeno un sintomo"),!this.segnalazione||"NO"!==this.decorso.sintomi||this.decorso.condizioniCliniche||this.decorso.luogoPaziente||this.decorso.descrizioneContesto||e.push('Indicare i sintomi oppure inserire almeno uno tra "Condizione clinica", "Luogo paziente" e "Contesto - Contatto"'),e},savePaziente:function(){var e=this;this.feedback=null,"SI"===this.decorso.sintomi&&(this.decorso.sintomo=this.sintomo),this.paziente.comuneResidenzaIstatCompleto&&(this.paziente.comuneResidenzaIstat=this.paziente.comuneResidenzaIstatCompleto.istatComune),this.paziente.comuneDomicilioIstatCompleto&&(this.paziente.comuneDomicilioIstat=this.paziente.comuneDomicilioIstatCompleto.istatComune),-1===this.paziente.idTipoSoggetto&&(this.paziente.idTipoSoggetto=null),"SI"===this.decorso.sintomi||this.decorso.condizioniCliniche||this.decorso.luogoPaziente||this.decorso.descrizioneContesto?this.paziente.decorso=this.decorso:this.paziente.decorso=null;var t=this.validatePaziente();0===t.length?(this.loading=!0,this.paziente.sintomi=this.decorso?this.decorso.sintomi:"NO",this.$http.post($.VISURAMMG_BASE_URL+"/mmgvisura/soggetti",this.paziente).then(function(){var t=Object(Ae["a"])(regeneratorRuntime.mark((function t(o){var i,a,n,s,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("savePaziente",o),e.finish=!0,e.loading=!1,o&&o.data&&o.data.message?e.feedback={type:"success",message:o.data.message}:e.feedback={type:"success",message:"Segnalazione completata con successo"},!e.decorso||!e.decorso.sintomi||"SI"!==e.decorso.sintomi){t.next=22;break}return t.prev=5,t.next=8,Ue();case 8:return i=t.sent,a=i.data,n=e.decorso.sintomo,s=Re(n,a),r=o.data,l={soggetto:r.idSoggetto,data:e.decorso.dataInizioSint,note:e.decorso.sintomo.noteSintomo||"",intervento:null,sintomi:s},console.log({paziente:e.paziente,diario:l}),t.next=17,xe(l);case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](5),console.error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[5,19]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t),e.loading=!1,t&&409===t.response.status?(e.finish=!0,e.feedback={type:"warning",message:"Il paziente è già inserito a sistema, aggiungere segnalazione partendo dal paziente nella lista"}):e.feedback={type:"danger",message:"Si è verificato un errore nel salvataggio dei dati"},console.error("savePaziente  Error",t)})).then(this.loading=!1)):(this.feedback={type:"warning",message:"Si è verificato un errore nel salvataggio dei dati"},this.feedback.type="warning",this.feedback.message="Per proseguire è necessario correggere le seguenti anomalie",this.feedback.details=t)}},mounted:function(){var e=this;console.log("loadComuni"),this.$http.get($.VISURAMMG_BASE_URL+"/decodifiche/comuni").then((function(t){e.comuni=t.data,console.log("getComuni",t.data)})).catch((function(e){console.log(e)})).then(this.loading=!1),console.log("tiposoggetto"),this.$http.get($.VISURAMMG_BASE_URL+"/decodifiche/tiposoggetto").then((function(t){e.allTipisoggetto=t.data,e.allTipisoggetto.unshift({idTipoSoggetto:-1,descTipoSoggetto:"cittadino"}),console.log("tiposoggetto",e.allTipisoggetto)})).catch((function(e){console.log(e)})).then(this.loading=!1),console.log("asl"),this.$http.get($.VISURAMMG_BASE_URL+"/decodifiche/asl").then((function(t){for(var o=0;o<t.data.length;o++)"PIEMONTE"===t.data[o].descRegione&&e.allAsl.push(t.data[o].descAslEstesa);e.allAsl.push("EXTRA-REGIONE"),console.log("getAsl",e.allAsl)})).catch((function(e){console.log(e)})).then(this.loading=!1),console.log("loadAsr"),this.allAsr=[],this.$http.get($.VISURAMMG_BASE_URL+"/decodifiche/asr").then((function(t){if(console.log("loadAsr",t.data),t.data)for(var o=0;o<t.data.length;o++)null!=t.data[o].idEnte&&e.allAsr.push(t.data[o])})).catch((function(e){console.log(e)})).then(this.loading=!1)}},Ve=Fe,He=(o("da7f"),Object(p["a"])(Ve,Se,Te,!1,null,"635ec0e6",null)),Ge=He.exports,Be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"sintomo-detail",adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide("sintomo-detail")}}},[e._v(" × ")]),o("div",{staticClass:"modal-title"},[e._v("Dettaglio Sintomo")]),e.s?o("div",{staticClass:"dettaglio-sintomo"},[o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Luogo paziente")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.d.luogoPaziente)}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Contesto - Contatto")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.d.descrizioneContesto)}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Data esordio sintomi malattia")]),e._v(" "),o("span",[e._v(e._s(e._f("formatMillis")(e.d.dataInizioSint)))])]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Temperatura")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeTemperatura")(e.s.temperatura))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Tosse")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgTosse))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Dispnea")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgDispnea))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Congiuntivite")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgCongiuntivite))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Diarrea")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgDiarrea))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Dolori Muscolari")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgDoloriMusc))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Gusto")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgGusto))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Olfatto")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgOlfatto))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Raffraddore")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgRaffreddore))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Stanchezza")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e._f("decodeSintomo")(e.s.flgStanchezza))}})]),o("div",{staticClass:"dettaglio-row"},[o("label",[e._v("Altro")]),e._v(" "),o("span",{domProps:{innerHTML:e._f("emptyhtml")(e.s.noteSintomo)}})])]):e._e(),o("div",{staticClass:"modal-footer "},[o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("sintomo-detail")}}},[e._v("Chiudi")])])])])])},qe=[],Qe={name:"DettaglioSintomo",data:function(){return{d:null,s:null}},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.d=e.params.decorso,e.params.decorso.sintomo?this.s=e.params.decorso.sintomo:this.s=null}}},Ye=Qe,Ze=(o("3d99"),Object(p["a"])(Ye,Be,qe,!1,null,"9b8678e2",null)),Xe=Ze.exports,Je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:e.nome,adaptive:"",scrollable:"",height:"auto",width:"90%",styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide(e.nome)}}},[e._v(" × ")]),o("div",{staticClass:"modal-title pa-md"},[e._v(" Dettaglio richiesta di intervento per "+e._s(e._f("empty")(e.soggettoNome))+" ")]),o("div",{staticClass:"tab-buttons"},[o("div",{staticClass:"tab-button",class:{active:e.activeTab===e.TABS.RICHIESTA},on:{click:function(t){return e.chooseTab(e.TABS.RICHIESTA)}}},[e._v(" Richiesta ")]),o("div",{staticClass:"tab-button",class:{active:e.activeTab===e.TABS.INTERVENTO},on:{click:function(t){return e.chooseTab(e.TABS.INTERVENTO)}}},[e._v(" Intervento ")]),o("div",{staticClass:"tab-button",class:{active:e.activeTab===e.TABS.CRONOLOGIA},on:{click:function(t){return e.chooseTab(e.TABS.CRONOLOGIA)}}},[e._v(" Cronologia ")]),o("div",{staticClass:"tab-button-empty"})]),o("div",{staticClass:"tab-content ",class:{active:e.activeTab===e.TABS.RICHIESTA}},[o("scheda-dettaglio-richiesta",{attrs:{scheda:e.scheda}})],1),o("div",{staticClass:"tab-content ",class:{active:e.activeTab===e.TABS.INTERVENTO}},[o("scheda-dettaglio-intervento-lista",{attrs:{scheda:e.scheda}})],1),o("div",{staticClass:"tab-content ",class:{active:e.activeTab===e.TABS.CRONOLOGIA}},[o("scheda-dettaglio-cronologia",{attrs:{scheda:e.scheda}})],1),o("div",{staticClass:"modal-footer pa-md"},[o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide(e.nome)}}},[e._v("Chiudi")])])])])])},Ke=[],We=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"scheda-dettaglio-richiesta"},[e.scheda?[o("dl",[o("dt",[e._v("Data richiesta")]),o("dd",[e._v(e._s(e._f("formatDateTime")(e.dataRichiesta)))]),o("dt",[e._v("Medico richiedente")]),o("dd",[e._v(e._s(e._f("empty")(e.medicoRichiedenteNome)))]),o("dt",[e._v("Destinatario")]),o("dd",[e._v(e._s(e._f("empty")(e.destinatario)))]),o("dt",[e._v("Descrizione")]),o("dd",[e._v(e._s(e._f("empty")(e.descrizione)))]),e._l(e.prescrizioni,(function(t){return[o("dt",{key:t.id+"nome"},[e._v(e._s(t.tipo.nome))]),o("dd",{key:t.id+"prescrizione"},[e._v(e._s(e._f("empty")(t.prescrizione)))])]}))],2)]:[e._v(" Non è presente nessuna scheda ")]],2)},et=[],tt={name:"SchedaDettaglioRichiesta",props:{scheda:{type:Object,required:!1,default:function(){return null}}},computed:{dataRichiesta:function(){return this.scheda&&this.scheda.data},descrizione:function(){return this.scheda&&this.scheda.descrizione},destinatario:function(){return this.scheda&&this.scheda.usca&&this.scheda.usca.nome},medicoRichiedente:function(){return this.scheda&&this.scheda.medico||{}},medicoRichiedenteNome:function(){var e=this.medicoRichiedente.nome||"",t=this.medicoRichiedente.cognome||"";return e||t?[t,e].join(" "):""},prescrizioni:function(){return this.scheda&&this.scheda.prescrizioni||[]}}},ot=tt,it=Object(p["a"])(ot,We,et,!1,null,"26b6e992",null),at=it.exports,nt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"scheda-dettaglio-intervento"},[e.hasInterventi?[o("table",{staticClass:"table-small",attrs:{width:"100%"}},[e._m(0),o("tbody",e._l(e.interventiOrdinati,(function(t){return o("tr",{key:t.id,staticClass:"table-row"},[o("td",[e._v(" "+e._s(e._f("formatDateTime")(e.getData(t)))+" ")]),o("td",[o("span",{staticClass:"cell-row"},[e._v(" "+e._s(e._f("empty")(e.getMedicoNome(t)))+" ")]),e.getMedicoTelefono(t)?[o("span",{staticClass:"cell-row"},[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+e.getMedicoTelefono(t)}},[e._v(" "+e._s(e.getMedicoTelefono(t))+" ")])])]:e._e()],2),o("td",[e._v(" "+e._s(e._f("empty")(e.getTipo(t)))+" ")]),o("td",[o("span",{staticClass:"cell-row"},[e._v(" "+e._s(e._f("empty")(e.getAzione(t)))+" ")]),o("span",{staticClass:"cell-row",staticStyle:{"font-style":"italic"}},[e._v(" "+e._s(e._f("empty")(e.getAzioneDescrizione(t)))+" ")])]),o("td",[o("span",{staticClass:"btn prescrizioni-button",on:{click:function(o){return e.showDettaglioIntervento(t)}}},[e._v("Dettaglio")])])])})),0)])]:[e._v(" Non è stato ancora generato un intervento per questa richiesta. ")]],2)},st=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",{staticClass:"table-header"},[o("tr",[o("th",[e._v("Data intervento")]),o("th",[e._v("Medico")]),o("th",[e._v("Tipo intervento")]),o("th",[e._v("Azione intrapresa")]),o("th")])])}],rt=(o("498a"),o("2909")),lt={name:"SchedaDettaglioInterventoLista",props:{scheda:{type:Object,required:!1,default:function(){return null}}},computed:{interventi:function(){return this.scheda&&this.scheda.intervento||[]},hasInterventi:function(){return this.interventi.length>0},interventiOrdinati:function(){var e=Object(rt["a"])(this.interventi);return e.sort((function(e,t){return new Date(e)>new Date(t)?1:-1})),e}},methods:{getData:function(e){return e.data},getTipo:function(e){return e.tipo&&e.tipo.nome},getAzione:function(e){return e.azione&&e.azione.nome},getAzioneDescrizione:function(e){return e.azione_descrizione},getMedico:function(e){return e.medico_responsabile},getMedicoNome:function(e){var t=this.getMedico(e),o=t&&t.nome,i=t&&t.cognome;return[i,o].join(" ").trim()},getMedicoTelefono:function(e){var t=this.getMedico(e);return t&&t.telefono},showDettaglioIntervento:function(e){this.$modal.show("intervento-prescrizioni-modal",{intervento:e})}}},ct=lt,dt=(o("23b2"),Object(p["a"])(ct,nt,st,!1,null,"2e3b887a",null)),ut=dt.exports,mt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"scheda-dettaglio-cronologia"},[o("table",{staticClass:"table",attrs:{width:"100%"}},[e._m(0),o("tbody",e._l(e.cronologia,(function(t){return o("tr",{key:t.data_inizio,staticClass:"table-row"},[o("td",[e._v(e._s(e._f("formatDateTime")(t.data_inizio)))]),o("td",[e._v(e._s(e._f("empty")(e.getLabelStatoScheda(t.stato))))]),o("td",[t.utente&&(t.utente.nome||t.utente.cognome)?[e._v(" "+e._s((t.utente||{}).cognome)+" "+e._s((t.utente||{}).nome)+" "),o("div",{staticClass:"no-desktop"},[o("br"),o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+(t.utente||{}).telefono||!1}},[e._v(" "+e._s(e._f("empty")((t.utente||{}).telefono))+" ")]),o("br")])]:[e._v(" - ")]],2),o("td",{staticClass:"no-mobile"},[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+(t.utente||{}).telefono||!1}},[e._v(" "+e._s(e._f("empty")((t.utente||{}).telefono))+" ")])])])})),0)])])},pt=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",{staticClass:"table-header"},[o("tr",[o("th",[e._v("Data")]),o("th",[e._v("Stato")]),o("th",[e._v("Operatore")]),o("th",{staticClass:"no-mobile"},[e._v("Telefono")])])])}],ft={name:"SchedaDettaglioCronologia",props:{scheda:{type:Object,required:!1,default:function(){return null}}},computed:{cronologia:function(){return this.scheda&&this.scheda.cronologia||{}}},methods:{getLabelStatoScheda:function(e){var t=$.SCHEDA_STATI_LABEL[e.codice];return t&&(t=t.toUpperCase()),t}}},vt=ft,gt=(o("6181"),Object(p["a"])(vt,mt,pt,!1,null,"21bf7b8c",null)),ht=gt.exports,_t={RICHIESTA:"RICHIESTA",INTERVENTO:"INTERVENTO",CRONOLOGIA:"CRONOLOGIA"},bt={name:"SchedaDettaglioModal",components:{SchedaDettaglioCronologia:ht,SchedaDettaglioInterventoLista:ut,SchedaDettaglioRichiesta:at},props:{nome:{type:String,required:!1,default:"scheda-detail"}},data:function(){return{TABS:_t,activeTab:_t.RICHIESTA,scheda:null}},computed:{intervento:function(){return this.scheda&&this.scheda.intervento},cronologia:function(){return this.scheda&&this.scheda.cronologia||[]},soggetto:function(){return this.scheda&&this.scheda.soggetto||{}},soggettoNome:function(){var e=this.soggetto.nome||"",t=this.soggetto.cognome||"";return e||t?[t,e].join(" "):""}},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.scheda=e.params.scheda},chooseTab:function(e){this.activeTab=e}}},Ct=bt,zt=(o("a636"),Object(p["a"])(Ct,Je,Ke,!1,null,"12e4cef3",null)),St=zt.exports,Tt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"modifica-scheda-paziente",adaptive:!0,height:"auto",scrollable:!0,width:"650px",styles:"display: flex; height: auto;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[e.paziente?o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-title",on:{click:function(t){return e.debug()}}},[e._v("Nuova Richiesta di intervento "),o("small",[e._v(e._s(e.paziente.nome)+" "+e._s(e.paziente.cognome))])]),o("div",{staticClass:"paziente"},[e.finish?e._e():o("form",{staticClass:"form"},[o("div",{staticClass:"form-section"},[o("div",{staticClass:"form-group "},[o("label",{staticClass:"label-column  control-label",attrs:{for:"asl"}},[e._v("ASL*")]),o("div",{staticClass:"control-column"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.asl,expression:"asl"}],staticClass:"form-control ",attrs:{name:"asl",disabled:e.scheda.id},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.asl=t.target.multiple?o:o[0]}}},e._l(e.aslOpzioni,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.nome))])})),0)])]),o("div",{staticClass:"form-group "},[o("label",{staticClass:"label-column  control-label",attrs:{for:"struttura"}},[e._v("USCA*")]),o("div",{staticClass:"control-column"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.scheda.struttura,expression:"scheda.struttura"}],staticClass:"form-control ",attrs:{name:"struttura",disabled:e.scheda.id||!e.asl},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.scheda,"struttura",t.target.multiple?o:o[0])}}},e._l(e.struttureOpzioni,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.nome))])})),0)])]),o("div",{staticClass:"form-group form-group-end-section"},[o("label",{staticClass:"label-column-textarea  control-label",attrs:{for:"schedaDescrizione"}},[o("br"),e._v("Anamnesi patologica prossima e remota*")]),o("div",{staticClass:"control-column-large control-with-text-area"},[o("div",{staticClass:"form-control"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scheda.descrizione,expression:"scheda.descrizione"}],attrs:{rows:"3",id:"schedaDescrizione",disabled:e.scheda.id},domProps:{value:e.scheda.descrizione},on:{input:function(t){t.target.composing||e.$set(e.scheda,"descrizione",t.target.value)}}})])])]),e._l(e.allTipiPrescrizione,(function(t){return o("div",{key:t.id,staticClass:"form-group"},[o("label",{staticClass:"label-column-textarea  control-label"},[o("br"),e._v("Prescrizione "),o("span",{staticClass:"lowercase"},[e._v(e._s(t.nome))])]),o("div",{staticClass:"control-column-large control-with-text-area"},[o("div",{staticClass:"form-control"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.prescrizioni[t.codice].prescrizione,expression:"prescrizioni[s.codice].prescrizione"}],attrs:{rows:"3",disabled:e.scheda.id},domProps:{value:e.prescrizioni[t.codice].prescrizione},on:{input:function(o){o.target.composing||e.$set(e.prescrizioni[t.codice],"prescrizione",o.target.value)}}})])])])}))],2)])]),e.feedback?o("div",{staticClass:"main-feedback"},[o("div",{staticClass:"alert",class:e.feedback.type},[e._v(" "+e._s(e.feedback.message)+" "),e.feedback.details?o("ul",e._l(e.feedback.details,(function(t,i){return o("li",{key:i},[e._v(e._s(t))])})),0):e._e()])]):e._e(),o("div",{staticClass:"modal-footer "},[e.finish?e._e():o("div",{staticClass:"toolbar-left"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modifica-scheda-paziente")}}},[e._v("Annulla")])]),e.finish?e._e():o("div",{staticClass:"toolbar-right"},[e.loading||e.scheda.id?e._e():o("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.saveScheda(!1)}}},[e._v("Salva e invia")]),e.loading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1),e.finish?o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onHide(t)}}},[e._v("Chiudi")])]):e._e()])]):e._e()])},At=[],Dt=(o("99af"),o("45fc"),function(e,t){return e.reduce((function(e,o){return e.some((function(e){return t(o,e)}))||e.push(o),e}),[])}),wt=function(e,t){return e.reduce((function(e,o){var i=t(o);return e[i]=(e[i]||[]).concat([o]),e}),{})},It={name:"EditSchedaPaziente",components:{},data:function(){return{iconSpinner:F["i"],iconCheck:F["g"],iconInfo:F["p"],iconArrowLeft:F["q"],iconSearch:F["t"],iconImportant:F["k"],paziente:null,cfAuraFeedback:null,feedback:null,allStrutture:[],allTipiPrescrizione:[],prescrizioni:{},finish:!1,scheda:{},asl:null}},computed:{aslOpzioni:function(){var e=this.allStrutture.map((function(e){return e.ente})).filter((function(e){return!!e}));return e=Dt(e,(function(e,t){return e.id===t.id})),e},struttureOpzioni:function(){var e=this;return this.asl?this.allStrutture.filter((function(t){return t.ente&&t.ente.id===e.asl})):this.allStrutture}},watch:{asl:{immediate:!0,handler:function(e,t){e!==t&&(this.scheda.struttura=null)}}},methods:{onHide:function(){this.$modal.hide("modifica-scheda-paziente"),location.reload()},debug:function(){console.log("paziente",this.paziente),console.log("scheda",this.scheda)},forceUpdate:function(e){console.log("forceupdate",this.paziente),this.$forceUpdate()},beforeOpen:function(e){if(console.log("beforeOpen",e),this.paziente=e.params.paziente,this.scheda=e.params.scheda,this.scheda){if(this.scheda.usca&&this.scheda.usca.id&&(this.scheda.struttura=this.scheda.usca.id),this.scheda.prescrizioni)for(var t=0;t<this.scheda.prescrizioni.length;t++)this.prescrizioni[this.scheda.prescrizioni[t].tipo.codice]={prescrizione:this.scheda.prescrizioni[t].prescrizione}}else this.scheda={critica:"false"};this.feedback=null,this.finish=!1},validateScheda:function(){var e=[];return this.scheda.struttura||e.push("Indicare la struttura"),this.scheda.critica||e.push("Indicare se è critico"),this.scheda.descrizione||e.push('Compilare il campo "Anamnesi patologica prossima e remota"'),e},inviaScheda:function(){var e=this;this.loading=!0,this.$http.put($.VISURAMMG_EXTERNAL_URL+"schede/"+this.scheda.id+"/stato",{stato:"I"}).then((function(t){console.log("inviaScheda",t),e.finish=!0,e.loading=!1,t&&t.data&&t.data.message?e.feedback={type:"success",message:t.data.message}:e.feedback={type:"success",message:"Richista di intervento inviata"}})).catch((function(t){console.log(t),e.loading=!1,e.feedback={type:"danger",message:"Si è verificato un errore nel salvataggio dei dati"},console.error("saveScheda  Error",t)})).then(this.loading=!1)},saveScheda:function(e){var t=this;console.log("saveScheda",e),this.feedback=null;var o=this.validateScheda();if(0===o.length){this.scheda.prescrizioni=[];for(var i=0;i<this.allTipiPrescrizione.length;i++)this.prescrizioni[this.allTipiPrescrizione[i].codice].prescrizione&&this.scheda.prescrizioni.push(this.prescrizioni[this.allTipiPrescrizione[i].codice]);this.scheda.stato=e?"B":"I",this.scheda.soggetto=this.paziente.idSoggetto,this.loading=!0,this.$http.post($.VISURAMMG_EXTERNAL_URL+"schede",this.scheda).then((function(e){console.log("saveScheda",e),t.finish=!0,t.loading=!1,e&&e.data&&e.data.message?t.feedback={type:"success",message:e.data.message}:t.feedback={type:"success",message:"Richista di intervento salvata"}})).catch((function(e){console.log(e),t.loading=!1,t.feedback={type:"danger",message:"Si è verificato un errore nel salvataggio dei dati"},console.error("saveScheda  Error",e)})).then(this.loading=!1)}else this.feedback={type:"warning",message:"Si è verificato un errore nel salvataggio dei dati"},this.feedback.type="warning",this.feedback.message="Per proseguire è necessario correggere le seguenti anomalie",this.feedback.details=o}},mounted:function(){var e=this;console.log("loadStrutture"),this.$http.get($.VISURAMMG_EXTERNAL_URL+"strutture/usca").then((function(t){e.allStrutture=t.data,console.log("getStrutture",t.data)})).catch((function(e){console.log(e)})).then(this.loading=!1),console.log("loadTipiPrescrizione"),this.$http.get($.VISURAMMG_EXTERNAL_URL+"prescrizione-tipi").then((function(t){e.allTipiPrescrizione=t.data,e.prescrizioni={};for(var o=0;o<e.allTipiPrescrizione.length;o++)e.prescrizioni[e.allTipiPrescrizione[o].codice]={tipo:e.allTipiPrescrizione[o].id};console.log("getTipiPrescrizione",t.data)})).catch((function(e){console.log(e)})).then(this.loading=!1)}},Et=It,yt=(o("a962"),Object(p["a"])(Et,Tt,At,!1,null,"2af43388",null)),Ot=yt.exports,Rt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"prescrizione-detail",adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide("prescrizione-detail")}}},[e._v(" × ")]),o("div",{staticClass:"modal-title"},[e._v("Dettaglio Prescrizione "),e.prescrizione?o("span",{staticClass:"lowercase"},[e._v(e._s(e.prescrizione.tipo.nome))]):e._e()]),e.prescrizione?o("div",{staticClass:"dettaglio-prescrizione"},[o("p",[e._v(e._s(e.prescrizione.prescrizione))])]):e._e(),o("div",{staticClass:"modal-footer "},[o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("prescrizione-detail")}}},[e._v("Chiudi")])])])])])},kt=[],Pt={name:"DettaglioPrescrizione",data:function(){return{prescrizione:null}},methods:{debug:function(){console.log("paziente",this.paziente),console.log("scheda",this.scheda)},forceUpdate:function(e){console.log("forceupdate",this.paziente),this.$forceUpdate()},beforeOpen:function(e){console.log("beforeOpen",e),this.prescrizione=e.params.prescrizione}}},Nt=Pt,Mt=(o("eaa6"),Object(p["a"])(Nt,Rt,kt,!1,null,"056012f4",null)),xt=Mt.exports,Ut=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"scheda-paziente-cronologia",adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide("scheda-paziente-cronologia")}}},[e._v(" × ")]),o("div",{staticClass:"modal-title pa-md"},[e._v("Cronologia richiesta di intervento")]),e.scheda?[o("div",{staticClass:"pa-md py-lg"},[o("table",{staticClass:"table",attrs:{width:"100%"}},[o("thead",{staticClass:"table-header"},[o("tr",[o("th",[e._v("Data")]),o("th",[e._v("Stato")]),o("th",[e._v("Operatore")]),o("th",[e._v("Telefono")])])]),o("tbody",e._l(e.cronologia,(function(t){return o("tr",{key:t.id,staticClass:"table-row"},[o("td",[e._v(e._s(e._f("formatMillis")(t.data_inizio)))]),o("td",[e._v(e._s(e._f("empty")((t.stato||{}).nome)))]),o("td",[t.operatore&&(t.operatore.nome||t.operatore.cognome)?[e._v(" "+e._s((t.operatore||{}).cognome)+" "+e._s((t.operatore||{}).nome)+" ")]:[e._v(" - ")]],2),o("td",[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+(t.operatore||{}).telefono||!1}},[e._v(" "+e._s(e._f("empty")((t.operatore||{}).telefono))+" ")])])])})),0)])])]:e._e(),o("div",{staticClass:"modal-footer pa-md"},[o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("scheda-paziente-cronologia")}}},[e._v("Chiudi")])])])],2)])},jt=[],Lt={name:"SchedaPazienteCronologiaModal",data:function(){return{scheda:null}},computed:{cronologia:function(){return this.scheda&&this.scheda.cronologia||[]}},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.scheda=e.params.scheda}}},$t=Lt,Ft=(o("1dde4"),Object(p["a"])($t,Ut,jt,!1,null,"5e31a06e",null)),Vt=Ft.exports,Ht=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:"intervento-detail",adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide("intervento-detail")}}},[e._v(" × ")]),o("div",{staticClass:"modal-title"},[e._v("Dettaglio intervento "),e.intervento?o("span",{staticClass:"lowercase"},[e._v(e._s(e.intervento.azione.nome))]):e._e()]),e.intervento?o("div",{staticClass:"dettaglio-intervento"},[o("div",{staticClass:"label"},[e._v("Data intervento")]),o("p",[e._v(e._s(e._f("formatMillis")(e.intervento.data)))]),o("div",{staticClass:"label"},[e._v("Tipo intervento")]),o("p",[e._v(e._s(e._f("emtpy")((e.intervento.tipo||{}).nome)))]),o("div",{staticClass:"label"},[e._v("Descrizione")]),o("p",[e._v(e._s(e._f("emtpy")(e.intervento.descrizione)))]),e._l(e.intervento.prescrizioni,(function(t){return o("div",{key:t.id},[o("div",{staticClass:"lowercase label"},[e._v("Prescrizione "+e._s(t.tipo.nome))]),o("p",[e._v(e._s(t.prescrizione))])])}))],2):e._e(),o("div",{staticClass:"modal-footer "},[o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide("intervento-detail")}}},[e._v("Chiudi")])])])])])},Gt=[],Bt={name:"DettaglioIntervento",data:function(){return{intervento:null}},methods:{debug:function(){console.log("paziente",this.paziente),console.log("scheda",this.scheda)},forceUpdate:function(e){console.log("forceupdate",this.paziente),this.$forceUpdate()},beforeOpen:function(e){console.log("beforeOpen",e),this.intervento=e.params.intervento}}},qt=Bt,Qt=(o("83ae"),Object(p["a"])(qt,Ht,Gt,!1,null,"22bd6d35",null)),Yt=Qt.exports,Zt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:e.nome,adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close",on:{click:function(t){return e.$modal.hide(e.nome)}}},[e._v(" × ")]),o("div",{staticClass:"modal-title pa-md"},[e._v(" Nuovo monitoraggio per "+e._s(e._f("empty")(e.soggettoNome))+" ")]),e.finish?e._e():o("form",{staticClass:"form"},[o("div",{staticClass:"form-section"},[o("div",[o("div",{staticClass:"py-md"},[o("label",{staticClass:"label-column control-label"},[o("strong",[e._v("Data")])])]),o("div",{staticClass:"py-md"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"data"}],attrs:{type:"date"},domProps:{value:e.data},on:{input:function(t){t.target.composing||(e.data=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.orario,expression:"orario"}],staticClass:"mx-md",attrs:{type:"time"},domProps:{value:e.orario},on:{input:function(t){t.target.composing||(e.orario=t.target.value)}}})])]),o("div",[o("div",{staticClass:"py-md"},[o("label",{staticClass:"label-column control-label",attrs:{for:"sintomi"}},[o("strong",[e._v("Sintomi")])])]),o("div",{staticClass:"py-md"},e._l(e.sintomiInputs,(function(t){return o("div",{key:t.id,staticClass:"py-sm",staticStyle:{display:"flex","justify-content":"space-between"}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sintomiSelezionati,expression:"sintomiSelezionati"}],attrs:{type:"checkbox",name:"sintomi"},domProps:{value:t,checked:Array.isArray(e.sintomiSelezionati)?e._i(e.sintomiSelezionati,t)>-1:e.sintomiSelezionati},on:{change:function(o){var i=e.sintomiSelezionati,a=o.target,n=!!a.checked;if(Array.isArray(i)){var s=t,r=e._i(i,s);a.checked?r<0&&(e.sintomiSelezionati=i.concat([s])):r>-1&&(e.sintomiSelezionati=i.slice(0,r).concat(i.slice(r+1)))}else e.sintomiSelezionati=n}}}),o("span",[e._v(e._s(t.nome))])]),t.misurabile&&e.sintomoSelezionato(t)?[o("div",[o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.valore,expression:"sintomo.valore",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:".1"},domProps:{value:t.valore},on:{input:function(o){o.target.composing||e.$set(t,"valore",e._n(o.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "+e._s(t.unita_misura)+" ")])]:e._e()],2)})),0)]),o("div",[o("div",{staticClass:"py-md"},[o("label",{staticClass:"label-column-textarea control-label",attrs:{for:"altri_sintomi"}},[o("strong",[e._v("Altri sintomi")])])]),o("div",{staticClass:"py-md"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.altriSintomi,expression:"altriSintomi"}],staticStyle:{width:"90%"},attrs:{rows:"3",name:"altri_sintomi"},domProps:{value:e.altriSintomi},on:{input:function(t){t.target.composing||(e.altriSintomi=t.target.value)}}})])])])]),e.feedback?o("div",{staticClass:"main-feedback"},[o("div",{staticClass:"alert",class:e.feedback.tipo},[e._v(" "+e._s(e.feedback.testo)+" "),e.feedback.messaggi?o("ul",e._l(e.feedback.messaggi,(function(t,i){return o("li",{key:i},[e._v(e._s(t))])})),0):e._e()])]):e._e(),o("div",{staticClass:"modal-footer "},[e.finish?e._e():o("div",{staticClass:"toolbar-left"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide(e.nome)}}},[e._v("Annulla")])]),e.finish?e._e():o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-primary",attrs:{href:"#",disable:e.loading},on:{click:function(t){return t.preventDefault(),e.salva(t)}}},[e._v("Salva")]),e.loading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1),e.finish?o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.nascondiERicarica(t)}}},[e._v("Chiudi")])]):e._e()])])])},Xt=[],Jt={name:"DiarioPaginaNuovaModal",data:function(){return{iconSpinner:F["i"],nome:"diario-pagina-nuova",soggetto_:null,sintomi:[],sintomiInputs:[],data:null,orario:null,sintomiSelezionati:[],altriSintomi:"",finish:!1,loading:!1,feedback:null}},computed:{soggetto:function(){return this.soggetto_||{}},soggettoId:function(){return this.soggetto.idSoggetto},soggettoNome:function(){var e=this.soggetto.nome||"",t=this.soggetto.cognome||"";return e||t?[t,e].join(" "):""},sintomiOrdinati:function(){var e=Object(rt["a"])(this.sintomi);return e.sort((function(e,t){return e.nome>t.nome?1:-1})),e}},created:function(){var e=this;return Object(Ae["a"])(regeneratorRuntime.mark((function t(){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get($.VISURAMMG_EXTERNAL_URL+"sintomi");case 3:o=t.sent,i=o.data,e.sintomi=i,e.sintomiInputs=e.sintomi.map((function(e){return Object(ye["a"])({},e,{note:"",valore:0})})),e.sintomiInputs.sort((function(e,t){return e.nome>t.nome?1:-1})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.soggetto_=e.params.soggetto;var t=Ee()();this.data=t.format("YYYY-MM-DD"),this.orario=t.format("HH:mm")},sintomoSelezionato:function(e){return this.sintomiSelezionati.find((function(t){return t.id===e.id}))},nascondiERicarica:function(){this.$modal.hide(this.nome),location.reload()},salva:function(){var e=this;return Object(Ae["a"])(regeneratorRuntime.mark((function t(){var o,i,a,n,s,r,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=Ee()(),i=o.format("YYYY-MM-DD"),a=o.format("HH:mm"),e.feedback=null,n=[],e.data&&e.orario?(e.data>i||e.data===i&&e.orario>a)&&n.push("Non puoi impostare una data nel futuro"):n.push("Data ed orario sono campi obbligatori"),e.sintomiSelezionati.length<=0&&n.push("Seleziona alemeno un sintomo prima di salvare il monitoraggio"),s=e.sintomiSelezionati.some((function(e){return e.misurabile&&!e.valore})),s&&n.push("Aggiungi le misurazione necessarie nei sintomi"),!(n.length>0)){t.next=12;break}return e.feedback={tipo:"warning",testo:"Si è verificato un errore nel salvataggio dei dati",messaggi:n},t.abrupt("return");case 12:return r=Date.parse("".concat(e.data,"T").concat(e.orario)),r=new Date(r).toISOString(),l={data:r,soggetto:e.soggettoId,note:e.altriSintomi,intervento:null,sintomi:e.sintomiSelezionati},console.log(JSON.stringify(l,null,4)),e.loading=!0,t.prev=17,c=$.VISURAMMG_EXTERNAL_URL+"diario-dettagli",t.next=21,e.$http.post(c,l);case 21:e.finish=!0,e.feedback={tipo:"success",testo:"Monitoraggio aggiunto con successo"},t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](17),console.error(t.t0),e.feedback={tipo:"danger",testo:"Si è verificato un errore nel salvataggio dei dati"};case 29:e.loading=!1;case 30:case"end":return t.stop()}}),t,null,[[17,25]])})))()}}},Kt=Jt,Wt=(o("76f9"),Object(p["a"])(Kt,Zt,Xt,!1,null,"5296fd29",null)),eo=Wt.exports,to=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:e.nome,adaptive:!0,height:"auto",scrollable:!0,styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-title"},[e._v(" Il tuo profilo ")]),e.finish?e._e():o("form",{staticClass:"form"},[o("dl",[o("dt",[e._v("Cognome")]),o("dd",[e._v(e._s(e._f("empty")(e.utenteCognome)))]),o("dt",[e._v("Nome")]),o("dd",[e._v(e._s(e._f("empty")(e.utenteNome)))])]),o("div",{staticClass:"form-section"},[o("div",[o("div",{staticClass:"py-md"},[o("label",{staticClass:"label-column control-label"},[o("strong",[e._v("Telefono")])])]),o("div",{staticClass:"py-md"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.telefono,expression:"telefono"}],attrs:{type:"tel",placeholder:"Telefono"},domProps:{value:e.telefono},on:{input:function(t){t.target.composing||(e.telefono=t.target.value)}}})])]),o("div",[o("div",{staticClass:"py-md"},[o("label",{staticClass:"label-column control-label"},[o("strong",[e._v("Email")])])]),o("div",{staticClass:"py-md"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])])])]),e.feedback?o("div",{staticClass:"main-feedback"},[o("div",{staticClass:"alert",class:e.feedback.tipo},[e._v(" "+e._s(e.feedback.testo)+" "),e.feedback.messaggi?o("ul",e._l(e.feedback.messaggi,(function(t,i){return o("li",{key:i},[e._v(e._s(t))])})),0):e._e()])]):e._e(),o("div",{staticClass:"modal-footer "},[e.finish?e._e():o("div",{staticClass:"toolbar-left"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide(e.nome)}}},[e._v("Annulla")])]),e.finish?e._e():o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-primary",attrs:{href:"#",disable:e.loading},on:{click:function(t){return t.preventDefault(),e.salva(t)}}},[e._v("Salva")]),e.loading?o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:e.iconSpinner}}):e._e()],1),e.finish?o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.nascondiERicarica(t)}}},[e._v("Chiudi")])]):e._e()])])])},oo=[],io={name:"UtenteProfiloModal",data:function(){return{iconSpinner:F["i"],nome:"profilo-utente",utente:null,telefono:"",email:"",finish:!1,loading:!1,feedback:null}},computed:{utenteNome:function(){return this.utente&&this.utente.nome},utenteCognome:function(){return this.utente&&this.utente.cognome}},methods:{beforeOpen:function(e){var t=this;return Object(Ae["a"])(regeneratorRuntime.mark((function o(){var i,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.log("beforeOpen",e),t.loading=!0,o.prev=2,o.next=5,Le();case 5:i=o.sent,a=i.data,t.utente=a,t.telefono=t.utente&&t.utente.telefono||"",t.email=t.utente&&t.utente.email||"",o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](2),console.error(o.t0);case 15:t.loading=!1;case 16:case"end":return o.stop()}}),o,null,[[2,12]])})))()},nascondiERicarica:function(){this.$modal.hide(this.nome),location.reload()},salva:function(){var e=this;return Object(Ae["a"])(regeneratorRuntime.mark((function t(){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.feedback=null,o=e.utente&&e.utente.cfUtente,i={nome:e.utente&&e.utente.nome||"",cognome:e.utente&&e.utente.cognome||"",telefono:e.telefono,email:e.email},console.log(JSON.stringify(i,null,4)),e.loading=!0,t.prev=5,t.next=8,je(o,i);case 8:e.finish=!0,e.feedback={tipo:"success",testo:"Profilo aggiornato con successo"},t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),console.error(t.t0),e.feedback={tipo:"danger",testo:"Si è verificato durante l'aggiornamento del profilo"};case 16:e.loading=!1;case 17:case"end":return t.stop()}}),t,null,[[5,12]])})))()}}},ao=io,no=(o("428a"),Object(p["a"])(ao,to,oo,!1,null,"c2a87354",null)),so=no.exports,ro=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal",{attrs:{name:e.nome,adaptive:"",scrollable:"",height:"auto",styles:"display: flex;padding: 12px;background-color: transparent;box-shadow: none"},on:{"before-open":e.beforeOpen}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-title pa-md"},[e._v(" Dettaglio intervento ")]),o("dl",[o("dt",[e._v("Data intervento")]),o("dd",[e._v(e._s(e._f("formatDateTime")(e.data)))]),o("dt",[e._v("Medico")]),o("dd",[e._v(e._s(e._f("empty")(e.medicoNome)))]),e.medicoTelefono?[o("dd",[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+e.medicoTelefono}},[e._v(" "+e._s(e.medicoTelefono)+" ")])])]:e._e(),o("dt",[e._v("Tipo intervento")]),o("dd",[e._v(e._s(e._f("empty")(e.tipo)))]),o("dt",[e._v("Azione intrapresa")]),o("dd",[e._v(e._s(e._f("empty")(e.azione)))]),o("dt",[e._v("Descrizione azione intrapresa")]),o("dd",[e._v(e._s(e._f("empty")(e.azioneDescrizione)))]),o("dt",[e._v("Descrizione")]),o("dd",[e._v(e._s(e._f("empty")(e.descrizione)))]),e._l(e.prescrizioni,(function(t){return[o("dt",{key:"t-"+t.id},[e._v(e._s(t.tipo.nome))]),o("dd",{key:"p-"+t.id},[e._v(e._s(e._f("empty")(t.prescrizione)))])]}))],2),o("div",{staticClass:"modal-footer pa-md"},[o("div",{staticClass:"toolbar-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$modal.hide(e.nome)}}},[e._v("Chiudi")])])])])])},lo=[],co={name:"SchedaDettaglioInterventoItemModal",props:{nome:{type:String,required:!1,default:"intervento-prescrizioni-modal"}},data:function(){return{intervento:null}},computed:{data:function(){return this.intervento&&this.intervento.data},tipo:function(){return this.intervento&&this.intervento.tipo&&this.intervento.tipo.nome},azione:function(){return this.intervento&&this.intervento.azione&&this.intervento.azione.nome},azioneDescrizione:function(){return this.intervento&&this.intervento.azione_descrizione},descrizione:function(){return this.intervento&&this.intervento.descrizione},prescrizioni:function(){return this.intervento&&this.intervento.prescrizioni||[]},medico:function(){return this.intervento&&this.intervento.medico_responsabile},medicoNome:function(){var e=this.medico,t=e&&e.nome,o=e&&e.cognome;return[o,t].join(" ").trim()},medicoTelefono:function(){return this.medico&&this.medico.telefono}},methods:{beforeOpen:function(e){console.log("beforeOpen",e),this.intervento=e.params.intervento}}},uo=co,mo=(o("7509"),Object(p["a"])(uo,ro,lo,!1,null,"ef2b65e8",null)),po=mo.exports,fo={name:"App",components:{SchedaDettaglioInterventoItemModal:po,UtenteProfiloModal:so,DiarioPaginaNuovaModal:eo,DettaglioIntervento:Yt,SchedaPazienteCronologiaModal:Vt,DettaglioPrescrizione:xt,EditSchedaPaziente:Ot,SchedaDettaglioModal:St,DettaglioSintomo:Xe,SegnalazionePaziente:Ge,Dettagliotampone:ze,DettaglioDecorso:ve,TheHeader:Z,TheFooter:te,TheReleasenotes:ce},methods:{showReleasenotesModal:function(){console.log("app showReleasenotesModal"),this.$modal.show("releasenotes-modal")}},mounted:function(){localStorage&&!localStorage["relasenotes_"+$.VERSION+"_readed"]&&this.showReleasenotesModal()}},vo=fo,go=(o("034f"),Object(p["a"])(vo,n,s,!1,null,null,null)),ho=go.exports,_o=o("9483");Object(_o["a"])("".concat("/visurammgweb/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var bo=o("8c4f"),Co=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("Pazienti")],1)},zo=[],So=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-grey"},[o("div",{staticClass:"title-with-options"},[o("div",{staticClass:"table-info"},[e._m(0),o("div",{staticClass:"table-info-items"},[o("div",{staticClass:"table-info-item"},[e._v("totali: "),e.pazienti?o("strong",[e._v(e._s(e.pazienti.length))]):e._e()]),o("div",{staticClass:"table-info-separator"}),o("div",{staticClass:"table-info-item"},[e._v("con tampone positivo: "),e.pazienti?o("strong",[e._v(e._s(e.numPazientiEsitoPositivo()))]):e._e()]),o("div",{staticClass:"table-info-separator"}),o("div",{staticClass:"table-info-item"},[e._v("in quarantena: "),e.pazienti?o("strong",[e._v(e._s(e.numPazientiQuarantena()))]):e._e()])])]),o("div",{staticClass:"toolbar"},[o("div",{staticClass:"toolbar-btn toolbar-btn-checkbox btn-filter-desktop",on:{click:e.onFilterOnlyTamponePositivoChange}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filterOnlyTamponePositivo,expression:"filterOnlyTamponePositivo"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterOnlyTamponePositivo)?e._i(e.filterOnlyTamponePositivo,null)>-1:e.filterOnlyTamponePositivo},on:{change:function(t){var o=e.filterOnlyTamponePositivo,i=t.target,a=!!i.checked;if(Array.isArray(o)){var n=null,s=e._i(o,n);i.checked?s<0&&(e.filterOnlyTamponePositivo=o.concat([n])):s>-1&&(e.filterOnlyTamponePositivo=o.slice(0,s).concat(o.slice(s+1)))}else e.filterOnlyTamponePositivo=a}}}),o("font-awesome-icon",{attrs:{icon:e.iconTampone}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Tampone positivo")])],1),o("div",{staticClass:"toolbar-separator"}),o("div",{staticClass:"toolbar-btn toolbar-btn-checkbox btn-filter-desktop",on:{click:e.onFilterOnlyQuarantenaChange}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filterOnlyQuarantena,expression:"filterOnlyQuarantena"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterOnlyQuarantena)?e._i(e.filterOnlyQuarantena,null)>-1:e.filterOnlyQuarantena},on:{change:function(t){var o=e.filterOnlyQuarantena,i=t.target,a=!!i.checked;if(Array.isArray(o)){var n=null,s=e._i(o,n);i.checked?s<0&&(e.filterOnlyQuarantena=o.concat([n])):s>-1&&(e.filterOnlyQuarantena=o.slice(0,s).concat(o.slice(s+1)))}else e.filterOnlyQuarantena=a}}}),o("font-awesome-icon",{attrs:{icon:e.iconHome}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Quarantena")])],1),o("div",{staticClass:"toolbar-separator"}),o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{href:e.urlExcel()}},[o("font-awesome-icon",{attrs:{icon:e.iconExcel}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Scarica in formato excel")])],1)]),o("div",{staticClass:"toolbar-separator toolbar-separator-vertical-mobile"}),o("div",{staticClass:"toolbar-btn",on:{click:function(t){return e.showAggiungiSegnalazione(null,!0)}}},[o("font-awesome-icon",{attrs:{icon:e.iconAdd}}),o("span",{staticClass:"toolbar-btn-label"},[e._v(" Nuovo paziente con segnalazione ")])],1),o("div",{staticClass:"toolbar-separator toolbar-separator-vertical-mobile"}),o("div",{staticClass:"toolbar-btn",on:{click:function(t){return e.showAggiungiSegnalazione()}}},[o("font-awesome-icon",{attrs:{icon:e.iconAdd}}),o("span",{staticClass:"toolbar-btn-label"},[e._v(" Nuovo paziente senza segnalazione ")])],1)])]),o("div",{staticClass:"toolbar pagination pagination-top"},[o("div",{staticClass:"toolbar-btn toolbar-btn-checkbox ",on:{click:e.onFilterOnlyTamponePositivoChange}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filterOnlyTamponePositivo,expression:"filterOnlyTamponePositivo"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterOnlyTamponePositivo)?e._i(e.filterOnlyTamponePositivo,null)>-1:e.filterOnlyTamponePositivo},on:{change:[function(t){var o=e.filterOnlyTamponePositivo,i=t.target,a=!!i.checked;if(Array.isArray(o)){var n=null,s=e._i(o,n);i.checked?s<0&&(e.filterOnlyTamponePositivo=o.concat([n])):s>-1&&(e.filterOnlyTamponePositivo=o.slice(0,s).concat(o.slice(s+1)))}else e.filterOnlyTamponePositivo=a},e.onFilterOnlyTamponePositivoChange]}}),o("font-awesome-icon",{attrs:{icon:e.iconTampone}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Tampone positivo")])],1),o("div",{staticClass:"toolbar-separator"}),o("div",{staticClass:"toolbar-btn toolbar-btn-checkbox",on:{click:e.onFilterOnlyQuarantenaChange}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filterOnlyQuarantena,expression:"filterOnlyQuarantena"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterOnlyQuarantena)?e._i(e.filterOnlyQuarantena,null)>-1:e.filterOnlyQuarantena},on:{change:[function(t){var o=e.filterOnlyQuarantena,i=t.target,a=!!i.checked;if(Array.isArray(o)){var n=null,s=e._i(o,n);i.checked?s<0&&(e.filterOnlyQuarantena=o.concat([n])):s>-1&&(e.filterOnlyQuarantena=o.slice(0,s).concat(o.slice(s+1)))}else e.filterOnlyQuarantena=a},e.onFilterOnlyQuarantenaChange]}}),o("font-awesome-icon",{attrs:{icon:e.iconHome}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Quarantena")])],1),o("div",{staticClass:"toolbar-separator-grow"}),o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{heref:""},on:{click:e.prevPage}},[o("font-awesome-icon",{attrs:{icon:e.iconPrev}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Precedente")])],1)]),o("div",{staticClass:"toolbar-separator"}),e._v(" "+e._s(e.currentPage)+"/"+e._s(Math.ceil((e.filteredPazienti?e.filteredPazienti.length:1)/e.pageSize))+" "),o("div",{staticClass:"toolbar-separator"}),o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{heref:""},on:{click:e.nextPage}},[o("font-awesome-icon",{attrs:{icon:e.iconNext}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Prossima")])],1)])]),o("div",{staticClass:"py-md row items-center justify-between"},[o("div",{staticClass:"col-mobile-12 py-md"},[o("div",{staticClass:"pa-md row items-center"},[o("div",{staticClass:"col-mobile-12 text-bold text-left"},[e._v(" Filtra per interventi USCA: ")]),o("div",{staticClass:"btn mx-md",on:{click:function(t){return e.filtraPerStatoScheda(e.SCHEDA_STATI.INVIATA)}}},[o("font-awesome-icon",{class:{invisible:e.filtroStatoScheda!==e.SCHEDA_STATI.INVIATA},attrs:{icon:e.iconCheck,size:"xs"}}),o("span",{},[e._v(" In attesa "),o("span",{staticClass:"ml-md text-bold"},[e._v(e._s(e.schedeInAttesa.length))])])],1),o("div",{staticClass:"btn mx-md",on:{click:function(t){return e.filtraPerStatoScheda(e.SCHEDA_STATI.ACCETTATA)}}},[o("font-awesome-icon",{class:{invisible:e.filtroStatoScheda!==e.SCHEDA_STATI.ACCETTATA},attrs:{icon:e.iconCheck,size:"xs"}}),o("span",{},[e._v(" In carico "),o("span",{staticClass:"ml-md text-bold"},[e._v(e._s(e.schedeInCarico.length))])])],1),o("div",{staticClass:"btn mx-md",on:{click:function(t){return e.filtraPerStatoScheda(e.SCHEDA_STATI.EVASA)}}},[o("font-awesome-icon",{class:{invisible:e.filtroStatoScheda!==e.SCHEDA_STATI.EVASA},attrs:{icon:e.iconCheck,size:"xs"}}),o("span",{},[e._v(" Evase "),o("span",{staticClass:"ml-md text-bold"},[e._v(e._s(e.schedeEvase.length))])])],1),o("div",{staticClass:"btn mx-md",on:{click:function(t){return e.filtraPerStatoScheda(e.SCHEDA_STATI.RIFIUTATA)}}},[o("font-awesome-icon",{class:{invisible:e.filtroStatoScheda!==e.SCHEDA_STATI.RIFIUTATA},attrs:{icon:e.iconCheck,size:"xs"}}),o("span",{},[e._v(" Rifiutate "),o("span",{staticClass:"ml-md text-bold"},[e._v(e._s(e.schedeRifiutate.length))])])],1)])]),o("div",{staticClass:"col-mobile-12 py-md mx-md"},[o("font-awesome-icon",{staticClass:"mx-md",attrs:{icon:e.faSearch}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"search",placeholder:"Cerca pazienti"},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})],1)]),e.loading?o("div",[o("TheLoading")],1):o("div",[o("table",{staticClass:"table table-pazienti"},[o("thead",{staticClass:"table-header"},[e._m(1),o("tr",{staticClass:"second-header"},[o("th",{staticClass:"section-cell"}),o("th",{on:{click:function(t){return e.sort("asr")}}},[o("p",[e._v("Asr in carico")])]),o("th",{on:{click:function(t){return e.sort("cognome")}}},[o("p",[e._v("Nome")])]),o("th",{on:{click:function(t){return e.sort("comuneDomicilioIstat")}}},[o("p",[e._v("Domicilio")])]),o("th",{on:{click:function(t){return e.sort("comuneResidenzaIstat")}}},[o("p",[e._v("Residenza")])]),o("th",{on:{click:function(t){return e.sort("telefonoRecapito")}}},[o("p",[e._v("Telefono")])]),e._m(2),o("th",{on:{click:function(t){return e.sort("tipoEvento")}}},[o("p",[e._v("Tipo")])]),e._m(3),e._m(4),o("th",{staticClass:"section-cell nowrap",attrs:{title:"Dato fornito da SISP"}},[o("p",[e._v("Presso "),o("span",{staticClass:"mute"},[o("font-awesome-icon",{attrs:{icon:e.iconQuestion}})],1)])]),e._m(5),e._m(6),e._m(7),e._m(8),e._m(9)])]),o("tbody",[e._l(e.filteredPazientiAndPaginated,(function(t){return[o("tr",{key:t.idSoggetto,staticClass:"table-row"},[o("td",{staticClass:"section-cell"},[o("div",{staticClass:"mobile-row-cell mobile-row"},[e.schedeReady?o("PazienteMobileMainRow",{attrs:{paziente:t,statoUltimaScheda:e.getStatoUltimaScheda(t)}}):e._e(),o("div",{staticClass:"mobile-expand-icon",on:{click:function(o){return e.toggleMobileDetail(t.idSoggetto)}}},[o("font-awesome-icon",{attrs:{icon:e.iconEllipsisV}})],1)],1),o("div",{staticClass:"no-mobile"},[e.isolamentoDomiciliare(t)?o("div",{staticClass:"icon icon-isolamento-domiciliare"},[o("font-awesome-icon",{attrs:{icon:e.iconHome}})],1):e._e(),e.assegnazioneDomicilio(t)?o("div",{staticClass:"icon icon-isolamento-domiciliare"},[o("font-awesome-icon",{attrs:{icon:e.iconBuilding}})],1):e._e(),e.pazienteSegnalato(t)?o("div",{staticClass:"icon icon-segnalazione"},[o("font-awesome-icon",{attrs:{icon:e.iconSegnalazione}})],1):e._e(),e.pazienteTamponePositivo(t)?o("div",{staticClass:"icon icon-tampone-positivo"},[o("font-awesome-icon",{attrs:{icon:e.iconTampone}})],1):e._e(),e.decorsoDaIntegrare(t)?o("div",{staticClass:"icon icon-da-integrare"},[o("font-awesome-icon",{attrs:{icon:e.iconDaIntegrare}})],1):e._e()])]),o("td",{staticClass:"mobile-detail-row",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Asr in carico")]),o("p",[e._v(e._s((t.asr||{}).descrizione)+" ")])]),o("td",{staticClass:"mobile-detail-row",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Nome")]),o("p",[e._v(e._s(t.cognome+" "+t.nome)+" ")])]),o("td",{staticClass:"mobile-detail-row",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Domicilio")]),o("p",[e._v(e._s((t.comuneDomicilio||{}).nomeComune))])]),o("td",{staticClass:"mobile-detail-row",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Residenza")]),o("p",[e._v(e._s((t.comuneResidenza||{}).nomeComune))])]),o("td",{staticClass:"mobile-detail-row",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Telefono")]),e._v(" "),o("p",[o("a",{attrs:{href:"tel:"+t.telefonoRecapito}},[e._v(e._s(t.telefonoRecapito))])])]),o("td",{staticClass:"mobile-detail-row section-cell",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Tipo paziente")]),o("p",[e._v(e._s(e._f("decodeTipoSoggetto")((t.tipoSoggetto||{}).descTipoSoggetto)))])]),o("td",{staticClass:"mobile-detail-row ",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Evento")]),o("p",[e._v(e._s((t.tipoEvento||{}).descTipoEvento))])]),o("td",{staticClass:"mobile-detail-row no-mobile",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Data Evento")]),o("p",[e._v(e._s(e._f("formatMillis")((t.decorso||{}).dataDimissioni)))])]),o("td",{staticClass:"mobile-detail-row",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Fine Quarant.")]),o("p",[e._v(e._s(e._f("formatMillis")((t.decorso||{}).dataPrevFineEvento)))])]),o("td",{staticClass:"mobile-detail-row section-cell",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[e._m(10,!0),o("div",[e.isolamentoDomiciliare(t)?o("div",{staticClass:"info-row"},[o("small",[e._v(e._s((t.comuneRicovero||{}).nomeComune)+" "+e._s(t.decorso.indirizzoDecorso)+" ("+e._s(t.decorso.decorsoPresso)+")")])]):e._e(),e.assegnazioneDomicilio(t)?o("div",{staticClass:"info-row"},[o("small",[e._v(e._s(t.struttura.nome)+" - "+e._s(t.area.nome))])]):e.assegnatoArea(t)?o("div",{staticClass:"info-row"},[o("small",[e._v(e._s(t.area.nome))])]):e._e()])]),o("td",{staticClass:"mobile-detail-row no-mobile  section-cell",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("p",{class:{"tampone-positivo":"Positivo"===e.esitoTampone(t)}},[e._v(e._s(e.esitoTampone(t)))])]),o("td",{staticClass:"mobile-detail-row no-desktop",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Elenco Decorsi")]),(e.p=e.pazienteDettaglio["s_"+t.idSoggetto])?o("table",{staticClass:"table-small"},[o("tbody",[e._l(e.pazienteDettaglio["s_"+e.p.idSoggetto].elencoDecorso,(function(t){return o("tr",{key:t.idDecorso,staticClass:"table-small-row"},[o("td",[e._v(e._s(e._f("formatMillis")(t.dataDimissioni)))]),o("td",{staticClass:"table-column-grow-max"},[e._v(e._s((t.decodeTipoEvento||{}).descTipoEvento))]),o("td",{on:{click:function(o){return e.showDecorsoModal(t)}}},[o("font-awesome-icon",{attrs:{icon:e.iconEllipsisV}})],1)])})),0==e.pazienteDettaglio["s_"+e.p.idSoggetto].elencoDecorso.length?o("tr",[o("i",[e._v("Non sono presenti decorsi")])]):e._e()],2)]):e._e()]),o("td",{staticClass:"mobile-detail-row no-desktop",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[e.decorsoDaIntegrare(t)?o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.showAggiungiSegnalazione(t,!0)}}},[e._v(" Integra ")]):e._e(),e.pazienteDaSegnalare(t)?o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.showAggiungiSegnalazione(t,!0)}}},[e._v(" Segnala ")]):e._e()]),o("td",{staticClass:"mobile-detail-row no-desktop",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Elenco Tamponi")]),(e.p=e.pazienteDettaglio["s_"+t.idSoggetto])?o("table",{staticClass:"table-small"},[o("tbody",[e._l(e.pazienteDettaglio["s_"+e.p.idSoggetto].elencoTampone,(function(t){return o("tr",{key:t.idTampone,staticClass:"table-small-row"},[o("td",[e._v(e._s(e._f("formatMillis")(t.dataTest)))]),o("td",{staticClass:"table-column-grow-max"},[e._v(e._s((t.risTampone||{}).risultatoTampone))]),o("td",{on:{click:function(o){return e.showTamponeModal(t)}}},[o("font-awesome-icon",{attrs:{icon:e.iconEllipsisV}})],1)])})),0==e.pazienteDettaglio["s_"+e.p.idSoggetto].elencoTampone.length?o("tr",[o("i",[e._v("Non sono presenti tamponi")])]):e._e()],2)]):e._e()]),o("td",{staticClass:"mobile-detail-row no-desktop",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Elenco Interventi")]),e.pazienteSchede["s_"+t.idSoggetto]?o("table",{staticClass:"table-small"},[o("tbody",[e._l(e.pazienteSchede["s_"+t.idSoggetto],(function(t){return o("tr",{key:t.id,staticClass:"table-small-row"},[o("td",[e._v(" "+e._s(e._f("formatMillis")(t.data))+" "),t.critica?[e._m(11,!0)]:e._e()],2),o("td",[e._v(" "+e._s(e._f("empty")((t.stato||{}).nome)))]),o("td",{staticClass:"table-column-grow-max"},[e._v(e._s(e._f("empty")((t.usca||{}).nome)))]),o("td",{on:{click:function(o){return e.showDettaglioScheda(t)}}},[o("font-awesome-icon",{attrs:{icon:e.iconEllipsisV}})],1)])})),0==e.pazienteSchede["s_"+t.idSoggetto].length?o("tr",[o("i",[e._v("Non sono presenti interventi")])]):e._e()],2)]):e._e()]),o("td",{staticClass:"mobile-detail-row no-desktop",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[e.abilitaCreazioneNuovaScheda(t)?o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.showAggiungiScheda(t)}}},[e._v(" Richiedi intervento ")]):e._e(),e.getSchedaInBozza(t)?o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.showAggiungiScheda(t)}}},[e._v(" Invia ")]):e._e()]),o("td",{staticClass:"mobile-detail-row no-desktop",class:{"mobile-detail-show":e.showMobileDetail(t.idSoggetto),"mobile-detail-hide":!e.showMobileDetail(t.idSoggetto)}},[o("label",{staticClass:"no-desktop"},[e._v("Elenco Diari")]),e.pazienteDiari["s_"+t.idSoggetto]&&e.pazienteDiari["s_"+t.idSoggetto][0]?o("table",{staticClass:"table-small table-diari-mobile"},[o("tbody",e._l(e.pazienteDiari["s_"+t.idSoggetto][0].dettagli,(function(t){return o("tr",{key:t.id,staticClass:"table-small-row"},[o("td",[e._v(" "+e._s(e._f("formatMillis")(t.data))+" ")]),o("td",[e._v(" "+e._s(t.note)),o("br"),o("strong",{staticClass:"mobile-diario-sintomi-title"},[e._v("Sintomi")]),o("div",{staticClass:"mobile-diario-sintomi"},[e._v(e._s(e._f("empty")(e._f("listValue")(t.sintomi,"nome"))))])])])})),0)]):o("div",[o("i",[e._v("Non sono presenti diari")])])]),o("td",{staticClass:"no-mobile"},[e.schedeReady?o("div",[e._v(" "+e._s(e.getStatoUltimaScheda(t))+" ")]):e._e()]),o("td",{staticClass:"no-mobile  section-cell"},[e.schedeReady?o("div",[e.abilitaCreazioneNuovaScheda(t)?o("div",{staticClass:"dettagli-button",attrs:{title:"Nuova richiesta di intervento"},on:{click:function(o){return e.showAggiungiScheda(t)}}},[e._v(" Richiedi ")]):e._e(),e.getSchedaInBozza(t)?o("div",{staticClass:"dettagli-button",attrs:{title:"Invia richiesta di intervento"},on:{click:function(o){return e.showAggiungiScheda(t)}}},[e._v(" Invia ")]):e._e()]):e._e()]),o("td",{staticClass:"no-mobile"},[e.decorsoDaIntegrare(t)?o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.showAggiungiSegnalazione(t,!0)}}},[e._v(" Integra ")]):e._e(),e.pazienteDaSegnalare(t)?o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.showAggiungiSegnalazione(t,!0)}}},[e._v(" Segnala ")]):e._e()]),o("td",{staticClass:"no-mobile"},[o("div",{staticClass:"dettagli-button",on:{click:function(o){return e.toggleTamponeDecorsoDetail(t.idSoggetto)}}},[o("span",{class:{show:e.showTamponeDecorsoDetail(t.idSoggetto),hide:!e.showTamponeDecorsoDetail(t.idSoggetto)}},[e._v("Dettagli "),o("font-awesome-icon",{attrs:{icon:e.iconCollapse}})],1),o("span",{class:{hide:e.showTamponeDecorsoDetail(t.idSoggetto),show:!e.showTamponeDecorsoDetail(t.idSoggetto)}},[e._v("Dettagli "),o("font-awesome-icon",{attrs:{icon:e.iconExpand}})],1)])])]),o("tr",{key:"2"+t.idSoggetto,staticClass:"lista-detail-row",class:{"tampone-detail-show":e.showTamponeDecorsoDetail(t.idSoggetto),"tampone-detail-hide":!e.showTamponeDecorsoDetail(t.idSoggetto)}},[o("td",{attrs:{colspan:"16"}},[e.pazienteDettaglio["s_"+t.idSoggetto]?o("PazienteDetailRow",{attrs:{paziente:e.pazienteDettaglio["s_"+t.idSoggetto]}}):e._e()],1)])]}))],2)]),o("p"),o("div",{staticClass:"toolbar pagination pagination-bottom"},[o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{heref:""},on:{click:e.prevPage}},[o("font-awesome-icon",{attrs:{icon:e.iconPrev}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Precedente")])],1)]),o("div",{staticClass:"toolbar-separator"}),e._v(" Pagina "+e._s(e.currentPage)+" di "+e._s(Math.ceil((e.filteredPazienti?e.filteredPazienti.length:1)/e.pageSize))+" "),o("div",{staticClass:"toolbar-separator"}),o("div",{staticClass:"toolbar-btn"},[o("a",{attrs:{heref:""},on:{click:e.nextPage}},[o("font-awesome-icon",{attrs:{icon:e.iconNext}}),o("span",{staticClass:"toolbar-btn-label"},[e._v("Prossima")])],1)])])])])},To=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"table-info-intro"},[o("strong",[e._v("Pazienti")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("tr",{staticClass:"first-header"},[o("th"),o("th",{attrs:{colspan:"6"}},[e._v("Paziente")]),o("th",{attrs:{colspan:"4"}},[e._v("Evento")]),o("th",[e._v("Tampone")]),o("th",{attrs:{colspan:"2"}},[e._v("Interventi USCA")]),o("th",{attrs:{colspan:"2"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",{staticClass:"section-cell"},[o("p",[e._v("Tipo paziente")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",[o("p",[e._v("Data evento")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",[o("p",[e._v("Data Fine Quarantena")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",{staticClass:"section-cell"},[o("p",[e._v("Esito tampone")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",[o("p",[e._v("Ultimo")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",{staticClass:"section-cell"},[o("p")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",[o("p",[e._v("SISP")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("th",[o("p",[e._v("Dettagli")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("label",{staticClass:"no-desktop"},[e._v("Presso "),o("i",[e._v("Dato fornito da SISP")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"cell-row text-danger"},[o("strong",[e._v("Urgente")])])}],Ao=(o("caad"),o("07ac"),o("2532"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),Do=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"loading "},[o("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"}),o("span",{staticClass:"sr-only"},[e._v("Loading...")])])}],wo={},Io=Object(p["a"])(wo,Ao,Do,!1,null,null,null),Eo=Io.exports,yo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.paziente?o("div",{staticClass:"lista-detail-container"},[o("div",{staticClass:"tab-buttons"},[o("div",{staticClass:"tab-button",class:{active:"Decorsi"===e.activeTab},on:{click:function(t){return e.chooseTab("Decorsi")}}},[e._v("Decorsi")]),o("div",{staticClass:"tab-button",class:{active:"Tamponi"===e.activeTab},on:{click:function(t){return e.chooseTab("Tamponi")}}},[e._v("Tamponi")]),o("div",{staticClass:"tab-button",class:{active:"Schede"===e.activeTab},on:{click:function(t){return e.chooseTab("Schede")}}},[e._v("Interventi USCA")]),o("div",{staticClass:"tab-button",class:{active:"Diari"===e.activeTab},on:{click:function(t){return e.chooseTab("Diari")}}},[e._v("Diario")]),o("div",{staticClass:" tab-button-empty"})]),o("div",{staticClass:"tab-content ",class:{active:"Decorsi"===e.activeTab}},[e.paziente.elencoDecorso&&e.paziente.elencoDecorso.length>0?o("table",{staticClass:"table-small"},[e._m(0),o("tbody",e._l(e.paziente.elencoDecorso,(function(t){return o("tr",{key:t.idDecorso},[o("td",[e._v(e._s(e._f("formatMillis")(t.dataDimissioni)))]),o("td",[e._v(e._s((t.decodeTipoEvento||{}).descTipoEvento))]),o("td",[e._v(e._s(e._f("formatMillis")(t.dataPrevFineEvento)))]),o("td",[e._v(e._s(t.condizioniCliniche))]),o("td",[e._v(e._s(e._f("formatMillis")(t.dataInizioSint)))]),o("td",[e._v(e._s(t.note))]),o("td",[t.sintomo?e._e():o("span",[e._v(e._s(t.sintomi))]),t.sintomo?o("span",{staticClass:"btn sintomo-button",on:{click:function(o){return e.showDettaglioSintomo(t)}}},[e._v(e._s(t.sintomi))]):e._e()])])})),0)]):o("div",{staticClass:"nowrap"},[e._v(" Non sono presenti decorsi")])]),o("div",{staticClass:"tab-content",class:{active:"Tamponi"===e.activeTab}},[e.paziente.elencoTampone&&e.paziente.elencoTampone.length>0?o("table",{staticClass:"table-small"},[e._m(1),o("tbody",e._l(e.paziente.elencoTampone,(function(t){return o("tr",{key:t.idTampone},[o("td",[e._v(e._s(e._f("formatMillis")(t.dataInserimentoRichiesta)))]),o("td",[e._v(e._s(t.criterioEpidemiologicoCovid19))]),o("td",[e._v(e._s((t.testCovid||{}).testCovid))]),o("td",[e._v(e._s((t.risTampone||{}).risultatoTampone))]),o("td",[e._v(e._s(e._f("formatMillis")(t.dataTest)))])])})),0)]):o("div",{staticClass:"nowrap"},[e._v("Non sono presenti richieste di tampone")])]),o("div",{staticClass:"tab-content",class:{active:"Schede"===e.activeTab}},[e.schede&&e.schede.length>0?o("table",{staticClass:"table-small"},[e._m(2),o("tbody",e._l(e.schedeOrdinate,(function(t){return o("tr",{key:t.id},[o("td",[o("span",{staticClass:"cell-row"},[e._v(e._s((t.medico||{}).nome)+" "+e._s((t.medico||{}).cognome))]),o("span",{staticClass:"cell-row"},[e._v("Telefono: "+e._s((t.medico||{}).telefono))])]),o("td",[o("span",{staticClass:"cell-row"},[e._v(e._s(e._f("formatDateTime")(t.data)))])]),o("td",[o("span",{staticClass:"cell-row"},[e._v(e._s(e._f("empty")(e.getLabelStatoScheda(t.stato))))]),(t.stato||{}).codice===e.SCHEDA_STATI.ACCETTATA?[o("span",{staticClass:"cell-row"},[e._v(" da "+e._s(e._f("empty")(e.getNomeAutoreCambioStato(t,e.SCHEDA_STATI.ACCETTATA)))+" ")]),e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.ACCETTATA)?[o("span",{staticClass:"cell-row"},[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.ACCETTATA)}},[e._v(" "+e._s(e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.ACCETTATA))+" ")])])]:e._e()]:e._e(),(t.stato||{}).codice===e.SCHEDA_STATI.EVASA?[o("span",{staticClass:"cell-row"},[e._v(" da "+e._s(e._f("empty")(e.getNomeAutoreCambioStato(t,e.SCHEDA_STATI.EVASA)))+" ")]),e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.EVASA)?[o("span",{staticClass:"cell-row"},[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.EVASA)}},[e._v(" "+e._s(e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.EVASA))+" ")])])]:e._e()]:e._e(),(t.stato||{}).codice===e.SCHEDA_STATI.RIFIUTATA?[o("span",{staticClass:"cell-row"},[e._v(" da "+e._s(e._f("empty")(e.getNomeAutoreCambioStato(t,e.SCHEDA_STATI.RIFIUTATA)))+" ")]),e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.RIFIUTATA)?[o("span",{staticClass:"cell-row"},[o("a",{staticClass:"no-decoration",attrs:{href:"tel:"+e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.RIFIUTATA)}},[e._v(" "+e._s(e.getTelefonoAutoreCambioStato(t,e.SCHEDA_STATI.RIFIUTATA))+" ")])])]:e._e()]:e._e()],2),o("td",[e._v(e._s(e._f("empty")((t.usca||{}).nome)))]),o("td",{staticClass:"column-slim "},[o("span",{staticClass:"btn cell-row",on:{click:function(o){return e.showDettaglioScheda(t)}}},[e._v(" dettaglio ")])])])})),0)]):o("div",{staticClass:"nowrap"},[e._v("Non sono presenti schede")])]),o("div",{staticClass:"tab-content",class:{active:"Diari"===e.activeTab}},[o("div",{staticClass:"mb-md text-right"},[o("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.showNuovaPaginaDiario(t)}}},[e._v("Aggiungi")])]),e.pagineDiario.length>0?o("table",{staticClass:"table-small"},[e._m(3),o("tbody",e._l(e.pagineDiarioOrdinate,(function(t){return o("tr",{key:t.id},[o("td",{staticClass:"column-slim nowrap"},[e._v(e._s(e._f("formatDateTime")(t.data)))]),o("td",[t.autore?[e._v(" "+e._s(t.autore.cognome)+" "+e._s(t.autore.nome)+" ")]:[e._v(" - ")]],2),o("td",{staticStyle:{"max-width":"300px"}},[o("sintomi-label",{attrs:{sintomi:t.sintomi}})],1),o("td",[e._v(e._s(t.note))])])})),0)]):o("div",{staticClass:"nowrap"},[e._v("Non sono presenti diari")])])]):e._e()},Oo=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",[e._v("Data")]),o("th",[e._v("Evento")]),o("th",[e._v("Fine quarantena")]),o("th",[e._v("Condizioni cliniche")]),o("th",[e._v("Data esordio sintomi malattia")]),o("th",[e._v("Note")]),o("th",[e._v("Sintomi")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",[e._v("Data richiesta")]),o("th",[e._v("Criterio epid.")]),o("th",[e._v("Tipologia test covid")]),o("th",[e._v("Esito tampone")]),o("th",[e._v("Data test")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",[e._v("Richiedente")]),o("th",[e._v("Data richiesta")]),o("th",[e._v("Stato richiesta")]),o("th",[e._v("Destinatario")]),o("th")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",[e._v("Data")]),o("th",[e._v("Autore")]),o("th",[e._v("Sintomi")]),o("th",[e._v("Altri sintomi")])])])}],Ro=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[e._v(" "+e._s(e.label)+" ")])},ko=[],Po={name:"SintomiLabel",props:{sintomi:{type:Array,required:!1,default:function(){return[]}}},computed:{label:function(){return this.sintomi.map((function(e){var t=e.nome;return e.misurabile&&e.valore&&(t="".concat(e.nome," (").concat(e.valore," ").concat(e.unita_misura,")")),t})).join(", ")||"-"}}},No=Po,Mo=Object(p["a"])(No,Ro,ko,!1,null,"5e36b65e",null),xo=Mo.exports,Uo={name:"PazienteDetailRow",components:{SintomiLabel:xo},props:["paziente"],data:function(){return{SCHEDA_STATI:$.SCHEDA_STATI,schede:null,diari:null,errored:!1,activeTab:"Decorsi"}},computed:{diario:function(){var e=this.diari||[];return e[0]||{}},pagineDiario:function(){return this.diario.dettagli||[]},pagineDiarioOrdinate:function(){var e=Object(rt["a"])(this.pagineDiario);return e.sort((function(e,t){return new Date(e.data)-new Date(t.data)>0?-1:1})),e},schedeOrdinate:function(){var e=Object(rt["a"])(this.schede);return e.sort((function(e,t){return new Date(e.data)-new Date(t.data)>0?-1:1})),e}},methods:{showDettaglioSintomo:function(e){this.$modal.show("sintomo-detail",{decorso:e})},showDettaglioPrescrizione:function(e){this.$modal.show("prescrizione-detail",{prescrizione:e})},showDettaglioIntervento:function(e){this.$modal.show("intervento-detail",{intervento:e})},showCronologia:function(e){this.$modal.show("scheda-paziente-cronologia",{scheda:e})},showDettaglioScheda:function(e){this.$modal.show("scheda-detail",{scheda:e})},showNuovaPaginaDiario:function(){this.$modal.show("diario-pagina-nuova",{soggetto:this.paziente})},chooseTab:function(e){var t=this;this.activeTab=e,"Schede"!==e||this.schede?"Diari"!==e||this.diari||(console.log("getDiari"),this.$http.get($.VISURAMMG_EXTERNAL_URL+"diari?soggetto="+this.paziente.idSoggetto).then((function(e){t.diari=e.data,console.log("getDiari",e.data)})).catch((function(e){console.log(e)})).then(this.loading=!1)):(console.log("getSchede"),this.$http.get($.VISURAMMG_EXTERNAL_URL+"schede?soggetto="+this.paziente.idSoggetto).then((function(e){t.schede=e.data,console.log("getSchede",e.data)})).catch((function(e){console.log(e)})).then(this.loading=!1))},getNomeAutoreCambioStato:function(e,t){var o=ke(e,t),i=o&&o.nome,a=o&&o.cognome;return[a,i].join(" ").trim()},getTelefonoAutoreCambioStato:function(e,t){var o=ke(e,t);return o&&o.telefono},getLabelStatoScheda:function(e){var t=$.SCHEDA_STATI_LABEL[e.codice];return t&&(t=t.toUpperCase()),t}}},jo=Uo,Lo=(o("75b4"),Object(p["a"])(jo,yo,Oo,!1,null,"212a1b68",null)),$o=Lo.exports,Fo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-row-info"},[o("div",{staticClass:"mobile-row-top"},[e._v(" Asr in carico "),o("p",[e._v(e._s((e.paziente.asr||{}).descrizione))])]),o("div",{staticClass:"mobile-row-main icons-mobile"},[o("div",{staticClass:"mobile-quarantena-icon"},[e.isolamentoDomiciliare(e.paziente)?o("div",{staticClass:"icon icon-isolamento-domiciliare"},[o("font-awesome-icon",{attrs:{icon:e.iconHome}})],1):e._e(),e.assegnazioneDomicilio(e.paziente)?o("div",{staticClass:"icon icon-isolamento-domiciliare"},[o("font-awesome-icon",{attrs:{icon:e.iconBuilding}})],1):e._e(),e.pazienteSegnalato(e.paziente)?o("div",{staticClass:"icon icon-segnalazione"},[o("font-awesome-icon",{attrs:{icon:e.iconSegnalazione}})],1):e._e(),e.pazienteTamponePositivo(e.paziente)?o("div",{staticClass:"icon icon-tampone-positivo"},[o("font-awesome-icon",{attrs:{icon:e.iconTampone}})],1):e._e(),e.decorsoDaIntegrare(e.paziente)?o("div",{staticClass:"icon icon-da-integrare"},[o("font-awesome-icon",{attrs:{icon:e.iconDaIntegrare}})],1):e._e()]),o("div",{staticClass:"mobile-row-nome"},[e._v(" "+e._s(e.paziente.cognome+" "+e.paziente.nome))])]),o("div",{staticClass:"mobile-row-dimissioni"},[o("strong",[e._v("Telefono")]),e._v(" "),o("p",[o("a",{attrs:{href:"tel:"+e.paziente.telefonoRecapito}},[e._v(e._s(e.paziente.telefonoRecapito))])])]),o("div",{staticClass:"mobile-row-dimissioni"},[o("strong",[e._v("Tampone ")]),o("p",{class:{"tampone-positivo":"Positivo"===e.esitoTampone(e.paziente)}},[e._v(e._s(e.esitoTampone(e.paziente)))])]),o("div",{staticClass:"mobile-row-dimissioni"},[o("strong",[e._v("Evento")]),e._v(" "+e._s(e._f("tipoEventoShort")((e.paziente.tipoEvento||{}).descTipoEvento))+" "),e.paziente.decorso&&e.paziente.decorso.dataDimissioni?o("span",[e._v(" - "+e._s(e._f("formatMillis")((e.paziente.decorso||{}).dataDimissioni)))]):e._e()]),e.paziente.decorso&&e.paziente.decorso.dataPrevFineEvento?o("div",{staticClass:"mobile-row-fine-quarantena"},[o("strong",[e._v("Fine quarantena")]),e._v(" "+e._s(e._f("formatMillis")((e.paziente.decorso||{}).dataPrevFineEvento))+" ")]):e._e(),o("div",{staticClass:"mobile-row-dimissioni"},[o("strong",[e._v("Ultimo intervento ")]),o("p",[e._v(e._s(e.statoUltimaScheda))])])])},Vo=[],Ho={name:"PazienteMobileMainRow",props:["paziente","statoUltimaScheda"],data:function(){return{iconHome:F["o"],iconTampone:F["w"],iconBuilding:F["d"],iconSegnalazione:F["k"],iconDaIntegrare:F["l"],errored:!1,isolamentoDomiciliare:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_ISOLAMENTO_DOMICILIARE},assegnazioneDomicilio:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_ASSEGNAZIONE_DOMICILIO},esitoTampone:function(e){return e.tampone&&e.tampone.idRisTamp?$.ESITO_TAMPONE[e.tampone.idRisTamp]:""},pazienteSegnalato:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_SEGNALAZIONE},pazienteTamponePositivo:function(e){return e.tampone&&e.tampone.idRisTamp&&"Positivo"===$.ESITO_TAMPONE[e.tampone.idRisTamp]},decorsoDaIntegrare:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_INFO_DA_INTEGRARE}}}},Go=Ho,Bo=(o("2cf9"),Object(p["a"])(Go,Fo,Vo,!1,null,"116ac77e",null)),qo=Bo.exports,Qo={name:"Pazienti",components:{TheLoading:Eo,PazienteDetailRow:$o,PazienteMobileMainRow:qo},data:function(){return{SCHEDA_STATI:$.SCHEDA_STATI,faSearch:F["t"],iconFilter:F["n"],iconExcel:F["m"],iconHome:F["o"],iconTampone:F["w"],iconBuilding:F["d"],iconArrowRight:F["a"],iconNext:F["c"],iconPrev:F["b"],iconEllipsisV:F["j"],iconQuestion:F["s"],iconSegnalazione:F["k"],iconDaIntegrare:F["l"],iconAdd:F["r"],iconCollapse:F["f"],iconExpand:F["e"],iconCheck:F["g"],currentUser:null,urlExcel:function(){return $.VISURAMMG_BASE_URL+"/mmgvisura/soggetti/report/xlsx"},filtroStatoScheda:null,searchValue:"",pazienti:null,schedeReady:!1,schede:[],pazienteDettaglio:{},pazienteSchede:{},pazienteDiari:{},loading:!0,errored:!1,filterOnlyTamponePositivo:!1,filterOnlyQuarantena:!1,currentSort:"cognome",currentSortDir:"asc",pageSize:50,currentPage:1,mobileDetailOpen:{},tamponeDecorsoOpen:{},comuneDomicilio:function(e){return e.comuneDomicilio},comuneResidenza:function(e){return e.comuneResidenza},isolamentoDomiciliare:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_ISOLAMENTO_DOMICILIARE},assegnazioneDomicilio:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_ASSEGNAZIONE_DOMICILIO},assegnatoArea:function(e){return e.area&&e.area.nome},esitoTampone:function(e){return e.tampone&&e.tampone.idRisTamp?$.ESITO_TAMPONE[e.tampone.idRisTamp]:""},pazienteSegnalato:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_SEGNALAZIONE},pazienteTamponePositivo:function(e){return e.tampone&&e.tampone.idRisTamp&&"Positivo"===$.ESITO_TAMPONE[e.tampone.idRisTamp]},decorsoDaIntegrare:function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_INFO_DA_INTEGRARE},pazienteDaSegnalare:function(e){return!e.decorso},abilitaCreazioneNuovaScheda:function(e){var t=!0;if(e.schede&&e.schede.length>0)for(var o=0;o<e.schede.length;o++)if("B"===e.schede[o].stato.codice||"I"===e.schede[o].stato.codice||"P"===e.schede[o].stato.codice){t=!1;break}return t},getSchedaInBozza:function(e){var t=null;if(e.schede&&e.schede.length>0){for(var o=0;o<e.schede.length;o++)if("B"===e.schede[o].stato.codice){t=e.schede[o];break}return t}},getStatoUltimaScheda:function(e){var t="-";return e.schede&&e.schede.length>0&&(t=e.schede[e.schede.length-1].stato.codice,t=$.SCHEDA_STATI_LABEL[t],t&&(t=t.toUpperCase())),t}}},url:{currentPage:"pagina",pageSize:"paginaDim",filterOnlyTamponePositivo:"positivi",filterOnlyQuarantena:"quarantena",searchValue:"s",filtroStatoScheda:"stato"},methods:{nextPage:function(){console.log(this.currentPage),this.currentPage*this.pageSize<this.filteredPazienti.length&&this.currentPage++},prevPage:function(){this.currentPage>1&&this.currentPage--},sort:function(e){e===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=e},onFilterOnlyTamponePositivoChange:function(){this.filterOnlyTamponePositivo=!this.filterOnlyTamponePositivo,this.currentPage=1},onFilterOnlyQuarantenaChange:function(){this.filterOnlyQuarantena=!this.filterOnlyQuarantena,this.currentPage=1},filtriCheck:function(e){var t=!this.filterOnlyTamponePositivo||e.tampone&&2===e.tampone.idRisTamp,o=!this.filterOnlyQuarantena||e.decorso&&e.decorso.idTipoEvento===$.ID_ISOLAMENTO_DOMICILIARE||e.decorso&&e.decorso.idTipoEvento===$.ID_ASSEGNAZIONE_DOMICILIO;return t&&o},numPazientiEsitoPositivo:function(){return this.pazienti.filter((function(e){return e.tampone&&2===e.tampone.idRisTamp})).length},numPazientiQuarantena:function(){return this.pazienti.filter((function(e){return e.decorso&&e.decorso.idTipoEvento===$.ID_ISOLAMENTO_DOMICILIARE||e.decorso&&e.decorso.idTipoEvento===$.ID_ASSEGNAZIONE_DOMICILIO})).length},toggleMobileDetail:function(e){var t=this;console.log("tt",this.mobileDetailOpen),this.mobileDetailOpen["s_"+e]?this.$set(this.mobileDetailOpen,"s_"+e,!this.mobileDetailOpen["s_"+e]):this.$set(this.mobileDetailOpen,"s_"+e,!0),this.$http.get($.VISURAMMG_BASE_URL+"/mmgvisura/soggetti/"+e).then((function(o){t.$set(t.pazienteDettaglio,"s_"+e,o.data),console.log("getTamponeDetail",o.data)})).catch((function(e){console.log(e),t.errored=!0})),console.log("getSchede"),this.$http.get($.VISURAMMG_EXTERNAL_URL+"schede?soggetto="+e).then((function(o){t.$set(t.pazienteSchede,"s_"+e,o.data),console.log("getSchede",o.data)})).catch((function(e){console.log(e)})).then(this.loading=!1),console.log("getDiari"),this.$http.get($.VISURAMMG_EXTERNAL_URL+"diari?soggetto="+e).then((function(o){t.$set(t.pazienteDiari,"s_"+e,o.data),console.log("getDiari",o.data)})).catch((function(e){console.log(e)})).then(this.loading=!1)},showMobileDetail:function(e){return!0===this.mobileDetailOpen["s_"+e]},showTamponeDecorsoDetail:function(e){return!0===this.tamponeDecorsoOpen["s_"+e]},toggleTamponeDecorsoDetail:function(e){var t=this;this.tamponeDecorsoOpen["s_"+e]?this.$set(this.tamponeDecorsoOpen,"s_"+e,!this.tamponeDecorsoOpen["s_"+e]):this.$set(this.tamponeDecorsoOpen,"s_"+e,!0),this.$http.get($.VISURAMMG_BASE_URL+"/mmgvisura/soggetti/"+e).then((function(o){t.$set(t.pazienteDettaglio,"s_"+e,o.data),console.log("getTamponeDetail",o.data)})).catch((function(e){console.log(e),t.errored=!0}))},showDecorsoModal:function(e){console.log("decorso modal",e),this.$modal.show("decorso-detail",{decorso:e})},showTamponeModal:function(e){console.log("tampone  modal",e),this.$modal.show("tampone-detail",{tampone:e})},showDettaglioScheda:function(e){this.$modal.show("scheda-detail",{scheda:e})},showAggiungiScheda:function(e){var t=this;this.$http.get($.VISURAMMG_BASE_URL+"/currentUser").then((function(o){console.log("getCurrentUser",$.VISURAMMG_BASE_URL+"/currentUser"),o.data&&o.data.cfUtente?t.$modal.show("modifica-scheda-paziente",{paziente:e,scheda:t.getSchedaInBozza(e)}):window.location.href="/visurammgweb/relogin.html?c="+(new Date).getTime()+"0"})).catch((function(e){console.log("getCurrentUserError:"+e),window.location.href="/visurammgweb/relogin.html?c="+(new Date).getTime()+"0"})).then((function(e){console.log("getCurrentUser FINAL:")}))},showAggiungiSegnalazione:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$http.get($.VISURAMMG_BASE_URL+"/currentUser").then((function(i){console.log("getCurrentUser",$.VISURAMMG_BASE_URL+"/currentUser"),i.data&&i.data.cfUtente?t.$modal.show("segnalazione-paziente",{paziente:e,segnalazione:o}):window.location.href="/visurammgweb/relogin.html?c="+(new Date).getTime()+"0"})).catch((function(e){console.log("getCurrentUserError:"+e),window.location.href="/visurammgweb/relogin.html?c="+(new Date).getTime()+"0"})).then((function(e){console.log("getCurrentUser FINAL:")}))},showDettaglioSintomo:function(e){this.$modal.show("sintomo-detail",{decorso:e})},addSchedaToPaziente:function(e){for(var t=0;t<this.pazienti.length;t++)if(this.pazienti[t].idSoggetto===e.soggetto.id){this.pazienti[t].schede||(this.pazienti[t].schede=[]),this.pazienti[t].schede.push(e);break}},loadSchedeMedico:function(){var e=this;console.log("loadSchedeMedico",this.currentUser),this.$http.get($.VISURAMMG_EXTERNAL_URL+"schede?medico="+this.currentUser.medico.cfMedico).then((function(t){if(t&&t.data){console.log("loadSchedeMedico",t.data),e.schede=t.data;for(var o=t.data.sort((function(e,t){return e.data>t.data?1:-1})),i=0;i<o.length;i++)e.addSchedaToPaziente(o[i])}console.log("pazienti con schede",e.pazienti),e.schedeReady=!0,e.$forceUpdate()})).catch((function(t){console.log(t),e.errored=!0})).finally(this.loading=!1)},filtraPerStatoScheda:function(e){this.filtroStatoScheda=this.filtroStatoScheda===e?null:e}},computed:{schedeOrdinate:function(){return Object(rt["a"])(this.schede).sort((function(e,t){return new Date(e.data)-new Date(t.data)>0?-1:1}))},schedePerPaziente:function(){return wt(this.schedeOrdinate,(function(e){return e.soggetto.id}))},ultimeSchede:function(){return Object.values(this.schedePerPaziente).map((function(e){return e[0]}))},ultimeSchedeFiltratePerPazientiVisibili:function(){var e=this.filteredPazienti.map((function(e){return e.idSoggetto}));return this.ultimeSchede.filter((function(t){return e.includes(t.soggetto.id)}))},schedeInAttesa:function(){return this.ultimeSchedeFiltratePerPazientiVisibili.filter((function(e){return e.stato&&e.stato.codice===$.SCHEDA_STATI.INVIATA}))},schedeInCarico:function(){return this.ultimeSchedeFiltratePerPazientiVisibili.filter((function(e){return e.stato&&e.stato.codice===$.SCHEDA_STATI.ACCETTATA}))},schedeEvase:function(){return this.ultimeSchedeFiltratePerPazientiVisibili.filter((function(e){return e.stato&&e.stato.codice===$.SCHEDA_STATI.EVASA}))},schedeRifiutate:function(){return this.ultimeSchedeFiltratePerPazientiVisibili.filter((function(e){return e.stato&&e.stato.codice===$.SCHEDA_STATI.RIFIUTATA}))},filteredPazienti:function(){var e=this;if(!this.pazienti)return console.log("this.pazienti null"),this.pazienti;var t=this.pazienti,o=this.searchValue||"";return o=o.toUpperCase(),t=t.filter((function(t){return e.filtriCheck(t)})),this.filtroStatoScheda&&(t=t.filter((function(t){var o=e.schedePerPaziente[t.idSoggetto]||[],i=o[0],a=i&&i.stato&&i.stato.codice;return a===e.filtroStatoScheda}))),t=t.filter((function(e){var t=[e.cognome,e.nome].filter((function(e){return!!e})).join(" ").toUpperCase();return t.includes(o)})),t.sort((function(t,o){var i=1;return"desc"===e.currentSortDir&&(i=-1),t[e.currentSort]<o[e.currentSort]?-1*i:t[e.currentSort]>o[e.currentSort]?1*i:0})),t},filteredPazientiAndPaginated:function(){var e=this;return this.filteredPazienti?this.filteredPazienti.filter((function(t,o){var i=(e.currentPage-1)*e.pageSize,a=e.currentPage*e.pageSize;if(o>=i&&o<a)return!0})):(console.log("this.pazienti null"),this.filteredPazienti)}},mounted:function(){var e=this;this.$http.get($.VISURAMMG_BASE_URL+"/mmgvisura/soggetti").then((function(t){e.pazienti=t.data,e.currentUser=e.$store.getters.currentUser,console.log("getPazienti",t.data),e.loadSchedeMedico()})).catch((function(t){console.log(t),e.errored=!0})).finally(this.loading=!1)},watch:{filteredPazienti:{handler:function(e,t){e!==t&&(this.currentPage=1)}}}},Yo=Qo,Zo=(o("5fa1"),Object(p["a"])(Yo,So,To,!1,null,"36682118",null)),Xo=Zo.exports,Jo={name:"Home",components:{Pazienti:Xo}},Ko=Jo,Wo=Object(p["a"])(Ko,Co,zo,!1,null,null,null),ei=Wo.exports;a["a"].use(bo["a"]);var ti=[{path:"/",name:"Home",component:ei},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}}],oi=new bo["a"]({routes:ti}),ii=oi,ai=o("ecee"),ni=o("ad3d"),si=o("1881"),ri=o.n(si),li=o("2f62");a["a"].use(li["a"]);var ci=new li["a"].Store({state:{currentUser:{}},getters:{currentUser:function(e){return e.currentUser}},mutations:{setCurrentUser:function(e,t){e.currentUser=t}},actions:{}}),di=o("9cfe"),ui=o.n(di);ai["c"].add(F["v"]),a["a"].component("font-awesome-icon",ni["a"]),a["a"].config.productionTip=!1,a["a"].prototype.$http=Me.a,a["a"].filter("string_ellipse",(function(e,t,o){return e.length>t?(o||(o="..."),e.substring(0,t)+o):e})),a["a"].filter("tipoEventoShort",(function(e){return e?e.replace("Dimesso in",""):e})),a["a"].filter("formatMillis",(function(e){if(e)return Ee()(String(new Date(e))).format("DD/MM/YY")})),a["a"].filter("formatDate",(function(e){if(e)return Ee()(String(e)).format("DD/MM/YYYY")})),a["a"].filter("formatDateTime",(function(e){if(e)return Ee()(String(e)).format("DD/MM/YYYY HH:mm")})),a["a"].filter("empty",(function(e){return e||"-"})),a["a"].filter("decodeTipoSoggetto",(function(e){return e||"cittadino"})),a["a"].filter("emptyhtml",(function(e){return e&&"-"!==e?e:'<span class="emptyvalue">Valore non impostato</span>'})),a["a"].filter("decodeSintomo",(function(e){return e?"NO"===e?"No":"SI"===e?"Si":"PRIMA_EMERGENZA"===e?"Prima emergenza":"ULTIME_2_SETTIMANE"===e?"Ultime due settimane":"LEGGERO"===e?"Leggero":"FORTE"===e?"Forte":"NELLA_NORMA"===e?"Nella norma":"PIU_SOLITO"===e?"Più del solito":"NON_PERSISTENTE"===e?"Non persistente":"PERSISTENTE_GRASSA"===e?"Persistente grassa":"PERSISTENTE_SECCA"===e?"Persistente secca":"-":"-"})),a["a"].filter("decodeTemperatura",(function(e){return e?e+"°":"-"})),a["a"].filter("listValue",(function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:", ";try{return e.map((function(e){return e[t]})).join(o)}catch(i){return""}})),a["a"].use(ui.a),a["a"].use(ri.a),new a["a"]({router:ii,store:ci,render:function(e){return e(ho)}}).$mount("#app")},"5f54":function(e,t,o){},"5fa1":function(e,t,o){"use strict";var i=o("df98"),a=o.n(i);a.a},6181:function(e,t,o){"use strict";var i=o("2dbc"),a=o.n(i);a.a},"62bb":function(e,t,o){},"737b":function(e,t,o){"use strict";var i=o("5f54"),a=o.n(i);a.a},7509:function(e,t,o){"use strict";var i=o("ae74"),a=o.n(i);a.a},"75b4":function(e,t,o){"use strict";var i=o("62bb"),a=o.n(i);a.a},"76f9":function(e,t,o){"use strict";var i=o("bb4e"),a=o.n(i);a.a},"78ae":function(e,t,o){},8341:function(e,t,o){"use strict";var i=o("c6ee"),a=o.n(i);a.a},"83ae":function(e,t,o){"use strict";var i=o("fb9d"),a=o.n(i);a.a},8545:function(e,t,o){"use strict";var i=o("448e"),a=o.n(i);a.a},"85ec":function(e,t,o){},a636:function(e,t,o){"use strict";var i=o("074d"),a=o.n(i);a.a},a855:function(e,t,o){},a8a7:function(e,t,o){},a962:function(e,t,o){"use strict";var i=o("c321"),a=o.n(i);a.a},ae74:function(e,t,o){},bb4e:function(e,t,o){},c321:function(e,t,o){},c6ee:function(e,t,o){},cd0e:function(e,t,o){},da7f:function(e,t,o){"use strict";var i=o("3abb"),a=o.n(i);a.a},df96:function(e,t,o){},df98:function(e,t,o){},e8c8:function(e,t,o){"use strict";var i=o("a855"),a=o.n(i);a.a},eaa6:function(e,t,o){"use strict";var i=o("228d"),a=o.n(i);a.a},eaec:function(e,t,o){"use strict";var i=o("0694"),a=o.n(i);a.a},fb9d:function(e,t,o){},ffdb:function(e,t,o){"use strict";var i=o("78ae"),a=o.n(i);a.a}});
//# sourceMappingURL=app.8435a568.js.map